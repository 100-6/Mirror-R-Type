
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation for the Mirror R-Type game project">
      
      
        <meta name="author" content="Team 100-6">
      
      
      
        <link rel="prev" href="../SERVER_ARCHITECTURE/">
      
      
        <link rel="next" href="../UDP_ACK_SYSTEM/">
      
      
        
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Protocol - Mirror R-Type Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#r-type-game-protocol-specification" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Mirror R-Type Documentation" class="md-header__button md-logo" aria-label="Mirror R-Type Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Mirror R-Type Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Protocol
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../SETUP/" class="md-tabs__link">
          
  
  
  Getting Started

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../CLIENT_ARCHITECTURE/" class="md-tabs__link">
          
  
  
  Architecture

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../LEVEL_SYSTEM/" class="md-tabs__link">
          
  
  
  Game Systems

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../DEVELOPER/" class="md-tabs__link">
          
  
  
  Development

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../RELEASE/" class="md-tabs__link">
        
  
  
    
  
  Release

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Mirror R-Type Documentation" class="md-nav__button md-logo" aria-label="Mirror R-Type Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Mirror R-Type Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Getting Started
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Getting Started
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../SETUP/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Setup
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../contributing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Contributing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Architecture
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Architecture
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CLIENT_ARCHITECTURE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Client Architecture
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../SERVER_ARCHITECTURE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Server Architecture
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Protocol
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Protocol
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-introduction" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Introduction
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. Introduction">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-purpose" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.1 Purpose
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-scope" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.2 Scope
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13-requirements-language" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.3 Requirements Language
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-protocol-overview" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. Protocol Overview
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. Protocol Overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-transport-layer" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.1 Transport Layer
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-packet-structure" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.2 Packet Structure
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23-size-constraints" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.3 Size Constraints
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#24-compression" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.4 Compression
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-packet-header" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. Packet Header
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Packet Header">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-header-format" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.1 Header Format
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.1 Header Format">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#base-header-9-bytes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Base Header (9 bytes)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extended-header-4-bytes-if-compressed-flag-set" class="md-nav__link">
    <span class="md-ellipsis">
      
        Extended Header (+ 4 bytes if COMPRESSED flag set)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-field-definitions" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.2 Field Definitions
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-packet-types" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. Packet Types
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. Packet Types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41-type-id-allocation" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.1 Type ID Allocation
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42-client-to-server-packets" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.2 Client-to-Server Packets
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#43-server-to-client-packets" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.3 Server-to-Client Packets
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-payload-formats" class="md-nav__link">
    <span class="md-ellipsis">
      
        5. Payload Formats
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5. Payload Formats">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#51-connection-management-payloads" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.1 Connection Management Payloads
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.1 Connection Management Payloads">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#511-client_connect-0x01" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.1.1 CLIENT_CONNECT (0x01)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#512-client_disconnect-0x02" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.1.2 CLIENT_DISCONNECT (0x02)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#513-client_ping-0x04" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.1.3 CLIENT_PING (0x04)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#514-server_accept-0x81" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.1.4 SERVER_ACCEPT (0x81)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#515-server_reject-0x82" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.1.5 SERVER_REJECT (0x82)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#516-server_pong-0x85" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.1.6 SERVER_PONG (0x85)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#52-lobby-matchmaking-payloads" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.2 Lobby &amp; Matchmaking Payloads
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.2 Lobby &amp; Matchmaking Payloads">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#521-client_join_lobby-0x05" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.2.1 CLIENT_JOIN_LOBBY (0x05)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#522-client_leave_lobby-0x06" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.2.2 CLIENT_LEAVE_LOBBY (0x06)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#523-server_lobby_state-0x87" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.2.3 SERVER_LOBBY_STATE (0x87)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#524-server_game_start_countdown-0x88" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.2.4 SERVER_GAME_START_COUNTDOWN (0x88)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#525-server_countdown_cancelled-0x89" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.2.5 SERVER_COUNTDOWN_CANCELLED (0x89)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#526-server_game_start-0x8a" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.2.6 SERVER_GAME_START (0x8A)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#53-custom-room-management-payloads" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.3 Custom Room Management Payloads
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.3 Custom Room Management Payloads">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#531-client_create_room-0x20" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.3.1 CLIENT_CREATE_ROOM (0x20)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#532-client_join_room-0x21" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.3.2 CLIENT_JOIN_ROOM (0x21)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#533-client_leave_room-0x22" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.3.3 CLIENT_LEAVE_ROOM (0x22)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#534-client_request_room_list-0x23" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.3.4 CLIENT_REQUEST_ROOM_LIST (0x23)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#535-client_start_game-0x24" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.3.5 CLIENT_START_GAME (0x24)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#536-server_room_created-0x90" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.3.6 SERVER_ROOM_CREATED (0x90)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#537-server_room_list-0x91" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.3.7 SERVER_ROOM_LIST (0x91)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#538-server_room_joined-0x92" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.3.8 SERVER_ROOM_JOINED (0x92)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#539-server_room_left-0x93" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.3.9 SERVER_ROOM_LEFT (0x93)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5310-server_room_error-0x95" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.3.10 SERVER_ROOM_ERROR (0x95)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5311-client_set_player_name-0x25" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.3.11 CLIENT_SET_PLAYER_NAME (0x25)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5312-client_set_player_skin-0x26" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.3.12 CLIENT_SET_PLAYER_SKIN (0x26)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5313-server_player_name_updated-0x96" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.3.13 SERVER_PLAYER_NAME_UPDATED (0x96)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5314-server_player_skin_updated-0x97" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.3.14 SERVER_PLAYER_SKIN_UPDATED (0x97)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#54-player-input-payloads" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.4 Player Input Payloads
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.4 Player Input Payloads">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#541-client_input-0x10" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.4.1 CLIENT_INPUT (0x10)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#54-world-state-payloads" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.4 World State Payloads
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.4 World State Payloads">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#541-server_snapshot-0xa0" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.4.1 SERVER_SNAPSHOT (0xA0)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#55-entity-event-payloads" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.5 Entity Event Payloads
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.5 Entity Event Payloads">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#551-server_entity_spawn-0xb0" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.5.1 SERVER_ENTITY_SPAWN (0xB0)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#552-server_entity_destroy-0xb1" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.5.2 SERVER_ENTITY_DESTROY (0xB1)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#553-server_projectile_spawn-0xb3" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.5.3 SERVER_PROJECTILE_SPAWN (0xB3)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#56-game-mechanics-payloads" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.6 Game Mechanics Payloads
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.6 Game Mechanics Payloads">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#561-server_powerup_collected-0xc0" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.6.1 SERVER_POWERUP_COLLECTED (0xC0)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#562-server_score_update-0xc1" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.6.2 SERVER_SCORE_UPDATE (0xC1)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#563-server_wave_start-0xc2" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.6.3 SERVER_WAVE_START (0xC2)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#564-server_wave_complete-0xc3" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.6.4 SERVER_WAVE_COMPLETE (0xC3)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#565-server_player_level_up-0xc4" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.6.5 SERVER_PLAYER_LEVEL_UP (0xC4)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#566-server_player_respawn-0xc5" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.6.6 SERVER_PLAYER_RESPAWN (0xC5)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#567-server_game_over-0xc6" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.6.7 SERVER_GAME_OVER (0xC6)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#568-server_leaderboard-0xc7" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.6.8 SERVER_LEADERBOARD (0xC7)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#57-admin-system-payloads" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.7 Admin System Payloads
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.7 Admin System Payloads">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#571-client_admin_auth-0x30" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.7.1 CLIENT_ADMIN_AUTH (0x30)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#572-client_admin_command-0x31" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.7.2 CLIENT_ADMIN_COMMAND (0x31)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#573-server_admin_auth_result-0xf0" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.7.3 SERVER_ADMIN_AUTH_RESULT (0xF0)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#574-server_admin_command_result-0xf1" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.7.4 SERVER_ADMIN_COMMAND_RESULT (0xF1)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#575-server_admin_notification-0xf2" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.7.5 SERVER_ADMIN_NOTIFICATION (0xF2)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#576-server_kick_notification-0xf3" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.7.6 SERVER_KICK_NOTIFICATION (0xF3)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-communication-patterns" class="md-nav__link">
    <span class="md-ellipsis">
      
        6. Communication Patterns
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6. Communication Patterns">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#61-connection-establishment" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.1 Connection Establishment
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#62-lobby-and-matchmaking" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.2 Lobby and Matchmaking
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#63-gameplay-loop" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.3 Gameplay Loop
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#64-keepalive-and-latency-measurement" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.4 Keepalive and Latency Measurement
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#65-disconnection" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.5 Disconnection
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-error-handling" class="md-nav__link">
    <span class="md-ellipsis">
      
        7. Error Handling
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7. Error Handling">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#71-version-mismatch" class="md-nav__link">
    <span class="md-ellipsis">
      
        7.1 Version Mismatch
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#72-packet-size-violations" class="md-nav__link">
    <span class="md-ellipsis">
      
        7.2 Packet Size Violations
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#73-invalid-payload-data" class="md-nav__link">
    <span class="md-ellipsis">
      
        7.3 Invalid Payload Data
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#74-sequence-number-handling" class="md-nav__link">
    <span class="md-ellipsis">
      
        7.4 Sequence Number Handling
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#75-connection-timeout" class="md-nav__link">
    <span class="md-ellipsis">
      
        7.5 Connection Timeout
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-security-considerations" class="md-nav__link">
    <span class="md-ellipsis">
      
        8. Security Considerations
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8. Security Considerations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#81-denial-of-service" class="md-nav__link">
    <span class="md-ellipsis">
      
        8.1 Denial of Service
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#82-data-validation" class="md-nav__link">
    <span class="md-ellipsis">
      
        8.2 Data Validation
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#83-replay-attacks" class="md-nav__link">
    <span class="md-ellipsis">
      
        8.3 Replay Attacks
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#84-cheating-prevention" class="md-nav__link">
    <span class="md-ellipsis">
      
        8.4 Cheating Prevention
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#9-implementation-notes" class="md-nav__link">
    <span class="md-ellipsis">
      
        9. Implementation Notes
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="9. Implementation Notes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#91-byte-order" class="md-nav__link">
    <span class="md-ellipsis">
      
        9.1 Byte Order
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#92-structure-packing" class="md-nav__link">
    <span class="md-ellipsis">
      
        9.2 Structure Packing
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#93-encoding-and-decoding" class="md-nav__link">
    <span class="md-ellipsis">
      
        9.3 Encoding and Decoding
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#94-memory-management" class="md-nav__link">
    <span class="md-ellipsis">
      
        9.4 Memory Management
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#95-performance-optimization" class="md-nav__link">
    <span class="md-ellipsis">
      
        9.5 Performance Optimization
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#10-references" class="md-nav__link">
    <span class="md-ellipsis">
      
        10. References
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#appendix-a-packet-type-quick-reference" class="md-nav__link">
    <span class="md-ellipsis">
      
        Appendix A: Packet Type Quick Reference
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#appendix-b-example-packet-hex-dumps" class="md-nav__link">
    <span class="md-ellipsis">
      
        Appendix B: Example Packet Hex Dumps
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Appendix B: Example Packet Hex Dumps">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#b1-client_connect-example" class="md-nav__link">
    <span class="md-ellipsis">
      
        B.1 CLIENT_CONNECT Example
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#b2-client_input-example" class="md-nav__link">
    <span class="md-ellipsis">
      
        B.2 CLIENT_INPUT Example
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#b3-server_game_start-example" class="md-nav__link">
    <span class="md-ellipsis">
      
        B.3 SERVER_GAME_START Example
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#appendix-c-state-machine-diagrams" class="md-nav__link">
    <span class="md-ellipsis">
      
        Appendix C: State Machine Diagrams
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Appendix C: State Machine Diagrams">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#c1-client-state-machine" class="md-nav__link">
    <span class="md-ellipsis">
      
        C.1 Client State Machine
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#c2-server-lobby-state-machine" class="md-nav__link">
    <span class="md-ellipsis">
      
        C.2 Server Lobby State Machine
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#appendix-d-bandwidth-analysis" class="md-nav__link">
    <span class="md-ellipsis">
      
        Appendix D: Bandwidth Analysis
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Appendix D: Bandwidth Analysis">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#d1-typical-traffic-per-player" class="md-nav__link">
    <span class="md-ellipsis">
      
        D.1 Typical Traffic Per Player
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#d2-server-bandwidth-4-player-game" class="md-nav__link">
    <span class="md-ellipsis">
      
        D.2 Server Bandwidth (4-player game)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../UDP_ACK_SYSTEM/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    UDP ACK System
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../create-room-archi/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Create Room Architecture
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Game Systems
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Game Systems
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../LEVEL_SYSTEM/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Level System
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../WAVE_SYSTEM/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Wave System
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../WAVE_CONFIGURATION_GUIDE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Wave Configuration Guide
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../PROCEDURAL_GENERATION/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Procedural Generation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Development
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Development
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../DEVELOPER/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Developer Guide
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../SERVER_DEVELOPMENT_GUIDE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Server Development Guide
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../LUA_SCRIPTING/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lua Scripting
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../RELEASE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Release
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-introduction" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Introduction
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. Introduction">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-purpose" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.1 Purpose
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-scope" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.2 Scope
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13-requirements-language" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.3 Requirements Language
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-protocol-overview" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. Protocol Overview
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. Protocol Overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-transport-layer" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.1 Transport Layer
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-packet-structure" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.2 Packet Structure
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23-size-constraints" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.3 Size Constraints
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#24-compression" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.4 Compression
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-packet-header" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. Packet Header
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Packet Header">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-header-format" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.1 Header Format
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.1 Header Format">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#base-header-9-bytes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Base Header (9 bytes)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extended-header-4-bytes-if-compressed-flag-set" class="md-nav__link">
    <span class="md-ellipsis">
      
        Extended Header (+ 4 bytes if COMPRESSED flag set)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-field-definitions" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.2 Field Definitions
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-packet-types" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. Packet Types
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. Packet Types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41-type-id-allocation" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.1 Type ID Allocation
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42-client-to-server-packets" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.2 Client-to-Server Packets
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#43-server-to-client-packets" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.3 Server-to-Client Packets
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-payload-formats" class="md-nav__link">
    <span class="md-ellipsis">
      
        5. Payload Formats
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5. Payload Formats">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#51-connection-management-payloads" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.1 Connection Management Payloads
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.1 Connection Management Payloads">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#511-client_connect-0x01" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.1.1 CLIENT_CONNECT (0x01)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#512-client_disconnect-0x02" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.1.2 CLIENT_DISCONNECT (0x02)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#513-client_ping-0x04" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.1.3 CLIENT_PING (0x04)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#514-server_accept-0x81" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.1.4 SERVER_ACCEPT (0x81)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#515-server_reject-0x82" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.1.5 SERVER_REJECT (0x82)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#516-server_pong-0x85" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.1.6 SERVER_PONG (0x85)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#52-lobby-matchmaking-payloads" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.2 Lobby &amp; Matchmaking Payloads
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.2 Lobby &amp; Matchmaking Payloads">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#521-client_join_lobby-0x05" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.2.1 CLIENT_JOIN_LOBBY (0x05)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#522-client_leave_lobby-0x06" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.2.2 CLIENT_LEAVE_LOBBY (0x06)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#523-server_lobby_state-0x87" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.2.3 SERVER_LOBBY_STATE (0x87)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#524-server_game_start_countdown-0x88" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.2.4 SERVER_GAME_START_COUNTDOWN (0x88)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#525-server_countdown_cancelled-0x89" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.2.5 SERVER_COUNTDOWN_CANCELLED (0x89)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#526-server_game_start-0x8a" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.2.6 SERVER_GAME_START (0x8A)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#53-custom-room-management-payloads" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.3 Custom Room Management Payloads
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.3 Custom Room Management Payloads">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#531-client_create_room-0x20" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.3.1 CLIENT_CREATE_ROOM (0x20)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#532-client_join_room-0x21" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.3.2 CLIENT_JOIN_ROOM (0x21)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#533-client_leave_room-0x22" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.3.3 CLIENT_LEAVE_ROOM (0x22)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#534-client_request_room_list-0x23" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.3.4 CLIENT_REQUEST_ROOM_LIST (0x23)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#535-client_start_game-0x24" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.3.5 CLIENT_START_GAME (0x24)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#536-server_room_created-0x90" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.3.6 SERVER_ROOM_CREATED (0x90)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#537-server_room_list-0x91" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.3.7 SERVER_ROOM_LIST (0x91)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#538-server_room_joined-0x92" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.3.8 SERVER_ROOM_JOINED (0x92)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#539-server_room_left-0x93" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.3.9 SERVER_ROOM_LEFT (0x93)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5310-server_room_error-0x95" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.3.10 SERVER_ROOM_ERROR (0x95)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5311-client_set_player_name-0x25" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.3.11 CLIENT_SET_PLAYER_NAME (0x25)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5312-client_set_player_skin-0x26" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.3.12 CLIENT_SET_PLAYER_SKIN (0x26)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5313-server_player_name_updated-0x96" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.3.13 SERVER_PLAYER_NAME_UPDATED (0x96)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5314-server_player_skin_updated-0x97" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.3.14 SERVER_PLAYER_SKIN_UPDATED (0x97)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#54-player-input-payloads" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.4 Player Input Payloads
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.4 Player Input Payloads">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#541-client_input-0x10" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.4.1 CLIENT_INPUT (0x10)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#54-world-state-payloads" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.4 World State Payloads
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.4 World State Payloads">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#541-server_snapshot-0xa0" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.4.1 SERVER_SNAPSHOT (0xA0)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#55-entity-event-payloads" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.5 Entity Event Payloads
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.5 Entity Event Payloads">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#551-server_entity_spawn-0xb0" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.5.1 SERVER_ENTITY_SPAWN (0xB0)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#552-server_entity_destroy-0xb1" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.5.2 SERVER_ENTITY_DESTROY (0xB1)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#553-server_projectile_spawn-0xb3" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.5.3 SERVER_PROJECTILE_SPAWN (0xB3)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#56-game-mechanics-payloads" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.6 Game Mechanics Payloads
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.6 Game Mechanics Payloads">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#561-server_powerup_collected-0xc0" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.6.1 SERVER_POWERUP_COLLECTED (0xC0)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#562-server_score_update-0xc1" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.6.2 SERVER_SCORE_UPDATE (0xC1)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#563-server_wave_start-0xc2" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.6.3 SERVER_WAVE_START (0xC2)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#564-server_wave_complete-0xc3" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.6.4 SERVER_WAVE_COMPLETE (0xC3)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#565-server_player_level_up-0xc4" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.6.5 SERVER_PLAYER_LEVEL_UP (0xC4)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#566-server_player_respawn-0xc5" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.6.6 SERVER_PLAYER_RESPAWN (0xC5)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#567-server_game_over-0xc6" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.6.7 SERVER_GAME_OVER (0xC6)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#568-server_leaderboard-0xc7" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.6.8 SERVER_LEADERBOARD (0xC7)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#57-admin-system-payloads" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.7 Admin System Payloads
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.7 Admin System Payloads">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#571-client_admin_auth-0x30" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.7.1 CLIENT_ADMIN_AUTH (0x30)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#572-client_admin_command-0x31" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.7.2 CLIENT_ADMIN_COMMAND (0x31)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#573-server_admin_auth_result-0xf0" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.7.3 SERVER_ADMIN_AUTH_RESULT (0xF0)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#574-server_admin_command_result-0xf1" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.7.4 SERVER_ADMIN_COMMAND_RESULT (0xF1)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#575-server_admin_notification-0xf2" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.7.5 SERVER_ADMIN_NOTIFICATION (0xF2)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#576-server_kick_notification-0xf3" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.7.6 SERVER_KICK_NOTIFICATION (0xF3)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-communication-patterns" class="md-nav__link">
    <span class="md-ellipsis">
      
        6. Communication Patterns
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6. Communication Patterns">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#61-connection-establishment" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.1 Connection Establishment
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#62-lobby-and-matchmaking" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.2 Lobby and Matchmaking
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#63-gameplay-loop" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.3 Gameplay Loop
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#64-keepalive-and-latency-measurement" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.4 Keepalive and Latency Measurement
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#65-disconnection" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.5 Disconnection
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-error-handling" class="md-nav__link">
    <span class="md-ellipsis">
      
        7. Error Handling
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7. Error Handling">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#71-version-mismatch" class="md-nav__link">
    <span class="md-ellipsis">
      
        7.1 Version Mismatch
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#72-packet-size-violations" class="md-nav__link">
    <span class="md-ellipsis">
      
        7.2 Packet Size Violations
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#73-invalid-payload-data" class="md-nav__link">
    <span class="md-ellipsis">
      
        7.3 Invalid Payload Data
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#74-sequence-number-handling" class="md-nav__link">
    <span class="md-ellipsis">
      
        7.4 Sequence Number Handling
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#75-connection-timeout" class="md-nav__link">
    <span class="md-ellipsis">
      
        7.5 Connection Timeout
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-security-considerations" class="md-nav__link">
    <span class="md-ellipsis">
      
        8. Security Considerations
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8. Security Considerations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#81-denial-of-service" class="md-nav__link">
    <span class="md-ellipsis">
      
        8.1 Denial of Service
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#82-data-validation" class="md-nav__link">
    <span class="md-ellipsis">
      
        8.2 Data Validation
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#83-replay-attacks" class="md-nav__link">
    <span class="md-ellipsis">
      
        8.3 Replay Attacks
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#84-cheating-prevention" class="md-nav__link">
    <span class="md-ellipsis">
      
        8.4 Cheating Prevention
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#9-implementation-notes" class="md-nav__link">
    <span class="md-ellipsis">
      
        9. Implementation Notes
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="9. Implementation Notes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#91-byte-order" class="md-nav__link">
    <span class="md-ellipsis">
      
        9.1 Byte Order
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#92-structure-packing" class="md-nav__link">
    <span class="md-ellipsis">
      
        9.2 Structure Packing
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#93-encoding-and-decoding" class="md-nav__link">
    <span class="md-ellipsis">
      
        9.3 Encoding and Decoding
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#94-memory-management" class="md-nav__link">
    <span class="md-ellipsis">
      
        9.4 Memory Management
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#95-performance-optimization" class="md-nav__link">
    <span class="md-ellipsis">
      
        9.5 Performance Optimization
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#10-references" class="md-nav__link">
    <span class="md-ellipsis">
      
        10. References
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#appendix-a-packet-type-quick-reference" class="md-nav__link">
    <span class="md-ellipsis">
      
        Appendix A: Packet Type Quick Reference
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#appendix-b-example-packet-hex-dumps" class="md-nav__link">
    <span class="md-ellipsis">
      
        Appendix B: Example Packet Hex Dumps
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Appendix B: Example Packet Hex Dumps">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#b1-client_connect-example" class="md-nav__link">
    <span class="md-ellipsis">
      
        B.1 CLIENT_CONNECT Example
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#b2-client_input-example" class="md-nav__link">
    <span class="md-ellipsis">
      
        B.2 CLIENT_INPUT Example
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#b3-server_game_start-example" class="md-nav__link">
    <span class="md-ellipsis">
      
        B.3 SERVER_GAME_START Example
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#appendix-c-state-machine-diagrams" class="md-nav__link">
    <span class="md-ellipsis">
      
        Appendix C: State Machine Diagrams
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Appendix C: State Machine Diagrams">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#c1-client-state-machine" class="md-nav__link">
    <span class="md-ellipsis">
      
        C.1 Client State Machine
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#c2-server-lobby-state-machine" class="md-nav__link">
    <span class="md-ellipsis">
      
        C.2 Server Lobby State Machine
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#appendix-d-bandwidth-analysis" class="md-nav__link">
    <span class="md-ellipsis">
      
        Appendix D: Bandwidth Analysis
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Appendix D: Bandwidth Analysis">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#d1-typical-traffic-per-player" class="md-nav__link">
    <span class="md-ellipsis">
      
        D.1 Typical Traffic Per Player
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#d2-server-bandwidth-4-player-game" class="md-nav__link">
    <span class="md-ellipsis">
      
        D.2 Server Bandwidth (4-player game)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="r-type-game-protocol-specification">R-Type Game Protocol Specification</h1>
<p><strong>Status</strong>: Draft
<strong>Version</strong>: 1.0
<strong>Date</strong>: December 2025
<strong>Authors</strong>: R-Type Development Team</p>
<hr />
<h2 id="1-introduction">1. Introduction</h2>
<h3 id="11-purpose">1.1 Purpose</h3>
<p>This document specifies the R-Type Game Protocol (RTGP), a UDP-based binary protocol for client-server communication in the R-Type multiplayer game. The protocol enables real-time gameplay synchronization, lobby management, and matchmaking for cooperative multiplayer sessions.</p>
<h3 id="12-scope">1.2 Scope</h3>
<p>This protocol defines packet formats, message types, and communication patterns for:
- Client authentication and connection management
- Lobby system with game mode and difficulty selection
- Custom room management with password protection
- Matchmaking and game session initialization
- Player input transmission
- Game state synchronization
- Entity management (players, enemies, projectiles, power-ups)
- Game events and scoring</p>
<h3 id="13-requirements-language">1.3 Requirements Language</h3>
<p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in RFC 2119.</p>
<hr />
<h2 id="2-protocol-overview">2. Protocol Overview</h2>
<h3 id="21-transport-layer">2.1 Transport Layer</h3>
<p>RTGP operates over UDP (User Datagram Protocol). The default server port is 4242 (configurable).</p>
<p><strong>Rationale</strong>: UDP is chosen over TCP for:
- Lower latency requirements for real-time gameplay
- Tolerance for occasional packet loss (state is regularly synchronized)
- Reduced overhead for high-frequency input packets</p>
<h3 id="22-packet-structure">2.2 Packet Structure</h3>
<p>All packets consist of a fixed-size header followed by a variable-length payload:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>    0                   1                   2                   3
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>   |    Version    |     Type      |     Flags     | Payload Len   |
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>   |  Payload Len  |                Sequence Number                |
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>   | Seq Number    | Uncompressed Size (optional, if COMPRESSED)   |
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>   |Uncompressed.. |              Payload Data                     |
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>   |                         Payload Data                          |
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a>   |                             ...                               |
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</code></pre></div>
<h3 id="23-size-constraints">2.3 Size Constraints</h3>
<ul>
<li><strong>Maximum packet size</strong>: 1400 bytes (MTU-safe for typical network configurations)</li>
<li><strong>Base header size</strong>: 9 bytes (without compression metadata)</li>
<li><strong>Extended header size</strong>: 13 bytes (with compression metadata when COMPRESSED flag is set)</li>
<li><strong>Maximum payload size</strong>: 1387 bytes (accounting for largest possible header)</li>
<li>Packets exceeding 1400 bytes MUST be fragmented or redesigned</li>
</ul>
<h3 id="24-compression">2.4 Compression</h3>
<p>Starting from protocol version 1.0, packets support <strong>optional LZ4 compression</strong> for large payloads:</p>
<ul>
<li><strong>Compression library</strong>: LZ4 (fast compression algorithm)</li>
<li><strong>Automatic compression</strong>: Large packets are automatically compressed if beneficial</li>
<li><strong>Compression criteria</strong>:</li>
<li>Payload size  128 bytes (configurable via <code>MIN_COMPRESSION_SIZE</code>)</li>
<li>Compression gain  10% (configurable via <code>MIN_COMPRESSION_GAIN</code>)</li>
<li>Compression time &lt; 500s (configurable via <code>MAX_COMPRESSION_TIME_US</code>)</li>
<li><strong>Compressible packet types</strong>: SNAPSHOT, DELTA_SNAPSHOT, LOBBY_STATE, ROOM_LIST</li>
<li><strong>Compression statistics</strong>: Tracked automatically for monitoring and optimization</li>
</ul>
<hr />
<h2 id="3-packet-header">3. Packet Header</h2>
<h3 id="31-header-format">3.1 Header Format</h3>
<p>All packets begin with a header in network byte order (big-endian). The header size is <strong>9 bytes</strong> (base) or <strong>13 bytes</strong> (if COMPRESSED flag is set).</p>
<h4 id="base-header-9-bytes">Base Header (9 bytes)</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Size</th>
<th>Offset</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Version</td>
<td>1 byte</td>
<td>0</td>
<td>Protocol version (0x01)</td>
</tr>
<tr>
<td>Type</td>
<td>1 byte</td>
<td>1</td>
<td>Packet type identifier</td>
</tr>
<tr>
<td>Flags</td>
<td>1 byte</td>
<td>2</td>
<td>Packet flags (bit 0 = COMPRESSED)</td>
</tr>
<tr>
<td>Payload Length</td>
<td>2 bytes</td>
<td>3</td>
<td>Length of payload in bytes (big-endian)</td>
</tr>
<tr>
<td>Sequence Number</td>
<td>4 bytes</td>
<td>5</td>
<td>Monotonic sequence number (big-endian)</td>
</tr>
</tbody>
</table>
<h4 id="extended-header-4-bytes-if-compressed-flag-set">Extended Header (+ 4 bytes if COMPRESSED flag set)</h4>
<table>
<thead>
<tr>
<th>Field</th>
<th>Size</th>
<th>Offset</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Uncompressed Size</td>
<td>4 bytes</td>
<td>9</td>
<td>Original payload size before compression</td>
</tr>
</tbody>
</table>
<h3 id="32-field-definitions">3.2 Field Definitions</h3>
<p><strong>Version (8 bits)</strong>
- MUST be set to <code>0x01</code> for this version of the protocol
- Receivers MUST reject packets with unknown versions
- Future versions MAY use different values for backward compatibility detection</p>
<p><strong>Type (8 bits)</strong>
- Identifies the packet type (see Section 4)
- Values <code>0x00-0x7F</code>: Reserved for client-to-server packets
- Values <code>0x80-0xFF</code>: Reserved for server-to-client packets</p>
<p><strong>Flags (8 bits)</strong>
- Bitfield for packet metadata and options
- <strong>Bit 0 (0x01)</strong>: <code>COMPRESSED</code> - Payload is compressed with LZ4
  - When set, the header includes 4 additional bytes (Uncompressed Size)
  - Payload data is LZ4-compressed and must be decompressed before processing
- <strong>Bits 1-7</strong>: Reserved for future use (MUST be set to 0)</p>
<p><strong>Payload Length (16 bits, big-endian)</strong>
- Length of the payload in bytes
- If COMPRESSED flag is set, this is the <strong>compressed</strong> payload size
- If COMPRESSED flag is NOT set, this is the original payload size
- MUST NOT exceed 1387 bytes
- Value of 0 indicates no payload (header-only packet)</p>
<p><strong>Uncompressed Size (32 bits, big-endian)</strong> - <em>Optional</em>
- ONLY present if COMPRESSED flag (bit 0) is set
- Specifies the original size of the payload before compression
- Used by receiver to pre-allocate decompression buffer
- MUST be greater than Payload Length when present</p>
<p><strong>Sequence Number (32 bits, big-endian)</strong>
- Monotonically increasing counter per connection
- Used for packet ordering, loss detection, and replay prevention
- Wraps around at 2^32
- Clients and servers maintain separate sequence counters</p>
<hr />
<h2 id="4-packet-types">4. Packet Types</h2>
<h3 id="41-type-id-allocation">4.1 Type ID Allocation</h3>
<p>Packet types are organized by functional category:</p>
<table>
<thead>
<tr>
<th>Range</th>
<th>Category</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>0x01-0x04</td>
<td>Connection Management</td>
<td>Connect, disconnect, keepalive</td>
</tr>
<tr>
<td>0x05-0x09</td>
<td>Lobby &amp; Matchmaking</td>
<td>Join, leave, lobby state updates</td>
</tr>
<tr>
<td>0x10-0x1F</td>
<td>Player Input</td>
<td>Real-time input commands</td>
</tr>
<tr>
<td>0x20-0x2F</td>
<td>Room Management</td>
<td>Custom rooms, room list, host control</td>
</tr>
<tr>
<td>0x30-0x3F</td>
<td>Reserved</td>
<td>Future client-to-server use</td>
</tr>
<tr>
<td>0x81-0x8A</td>
<td>Connection &amp; Lobby (SC)</td>
<td>Accept, reject, lobby updates</td>
</tr>
<tr>
<td>0x90-0x9F</td>
<td>Room Management (SC)</td>
<td>Room created, room list, room errors</td>
</tr>
<tr>
<td>0xA0-0xAF</td>
<td>World State</td>
<td>Game snapshots, delta updates</td>
</tr>
<tr>
<td>0xB0-0xBF</td>
<td>Entity Events</td>
<td>Spawn, destroy, damage</td>
</tr>
<tr>
<td>0xC0-0xCF</td>
<td>Game Mechanics</td>
<td>Powerups, scoring, waves, respawn</td>
</tr>
<tr>
<td>0xF0-0xFF</td>
<td>System &amp; Chat</td>
<td>Broadcast messages, system events</td>
</tr>
</tbody>
</table>
<h3 id="42-client-to-server-packets">4.2 Client-to-Server Packets</h3>
<table>
<thead>
<tr>
<th>Type ID</th>
<th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>0x01</td>
<td>CLIENT_CONNECT</td>
<td>Initial connection request</td>
</tr>
<tr>
<td>0x02</td>
<td>CLIENT_DISCONNECT</td>
<td>Graceful disconnection</td>
</tr>
<tr>
<td>0x04</td>
<td>CLIENT_PING</td>
<td>Keepalive and latency measurement</td>
</tr>
<tr>
<td>0x05</td>
<td>CLIENT_JOIN_LOBBY</td>
<td>Join lobby with mode/difficulty</td>
</tr>
<tr>
<td>0x06</td>
<td>CLIENT_LEAVE_LOBBY</td>
<td>Leave current lobby</td>
</tr>
<tr>
<td>0x10</td>
<td>CLIENT_INPUT</td>
<td>Player input state</td>
</tr>
<tr>
<td>0x20</td>
<td>CLIENT_CREATE_ROOM</td>
<td>Create a custom game room</td>
</tr>
<tr>
<td>0x21</td>
<td>CLIENT_JOIN_ROOM</td>
<td>Join an existing custom room</td>
</tr>
<tr>
<td>0x22</td>
<td>CLIENT_LEAVE_ROOM</td>
<td>Leave current custom room</td>
</tr>
<tr>
<td>0x23</td>
<td>CLIENT_REQUEST_ROOM_LIST</td>
<td>Request list of available rooms</td>
</tr>
<tr>
<td>0x24</td>
<td>CLIENT_START_GAME</td>
<td>Start game (host only)</td>
</tr>
<tr>
<td>0x25</td>
<td>CLIENT_SET_PLAYER_NAME</td>
<td>Change player name in lobby</td>
</tr>
<tr>
<td>0x26</td>
<td>CLIENT_SET_PLAYER_SKIN</td>
<td>Change player skin in lobby</td>
</tr>
<tr>
<td>0x30</td>
<td>CLIENT_ADMIN_AUTH</td>
<td>Admin authentication request</td>
</tr>
<tr>
<td>0x31</td>
<td>CLIENT_ADMIN_COMMAND</td>
<td>Admin command execution</td>
</tr>
</tbody>
</table>
<h3 id="43-server-to-client-packets">4.3 Server-to-Client Packets</h3>
<table>
<thead>
<tr>
<th>Type ID</th>
<th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>0x81</td>
<td>SERVER_ACCEPT</td>
<td>Connection accepted</td>
</tr>
<tr>
<td>0x82</td>
<td>SERVER_REJECT</td>
<td>Connection rejected</td>
</tr>
<tr>
<td>0x83</td>
<td>SERVER_PLAYER_JOINED</td>
<td>Another player joined the server</td>
</tr>
<tr>
<td>0x84</td>
<td>SERVER_PLAYER_LEFT</td>
<td>A player disconnected</td>
</tr>
<tr>
<td>0x85</td>
<td>SERVER_PONG</td>
<td>Ping response</td>
</tr>
<tr>
<td>0x87</td>
<td>SERVER_LOBBY_STATE</td>
<td>Current lobby state update</td>
</tr>
<tr>
<td>0x88</td>
<td>SERVER_GAME_START_COUNTDOWN</td>
<td>Game starting countdown</td>
</tr>
<tr>
<td>0x89</td>
<td>SERVER_COUNTDOWN_CANCELLED</td>
<td>Countdown cancelled (player left)</td>
</tr>
<tr>
<td>0x8A</td>
<td>SERVER_GAME_START</td>
<td>Game session begins</td>
</tr>
<tr>
<td>0x90</td>
<td>SERVER_ROOM_CREATED</td>
<td>Custom room created successfully</td>
</tr>
<tr>
<td>0x91</td>
<td>SERVER_ROOM_LIST</td>
<td>List of available custom rooms</td>
</tr>
<tr>
<td>0x92</td>
<td>SERVER_ROOM_JOINED</td>
<td>Successfully joined a custom room</td>
</tr>
<tr>
<td>0x93</td>
<td>SERVER_ROOM_LEFT</td>
<td>Player left a custom room</td>
</tr>
<tr>
<td>0x94</td>
<td>SERVER_ROOM_STATE_UPDATE</td>
<td>Custom room state changed</td>
</tr>
<tr>
<td>0x95</td>
<td>SERVER_ROOM_ERROR</td>
<td>Room operation error</td>
</tr>
<tr>
<td>0x96</td>
<td>SERVER_PLAYER_NAME_UPDATED</td>
<td>Player name changed in room</td>
</tr>
<tr>
<td>0x97</td>
<td>SERVER_PLAYER_SKIN_UPDATED</td>
<td>Player skin changed in room</td>
</tr>
<tr>
<td>0xA0</td>
<td>SERVER_SNAPSHOT</td>
<td>Complete world state snapshot</td>
</tr>
<tr>
<td>0xA1</td>
<td>SERVER_DELTA_SNAPSHOT</td>
<td>Delta-compressed state update</td>
</tr>
<tr>
<td>0xB0</td>
<td>SERVER_ENTITY_SPAWN</td>
<td>New entity spawned</td>
</tr>
<tr>
<td>0xB1</td>
<td>SERVER_ENTITY_DESTROY</td>
<td>Entity destroyed</td>
</tr>
<tr>
<td>0xB2</td>
<td>SERVER_ENTITY_DAMAGE</td>
<td>Entity took damage</td>
</tr>
<tr>
<td>0xB3</td>
<td>SERVER_PROJECTILE_SPAWN</td>
<td>Projectile fired</td>
</tr>
<tr>
<td>0xC0</td>
<td>SERVER_POWERUP_COLLECTED</td>
<td>Power-up collected by player</td>
</tr>
<tr>
<td>0xC1</td>
<td>SERVER_SCORE_UPDATE</td>
<td>Player score updated</td>
</tr>
<tr>
<td>0xC2</td>
<td>SERVER_WAVE_START</td>
<td>New enemy wave starting</td>
</tr>
<tr>
<td>0xC3</td>
<td>SERVER_WAVE_COMPLETE</td>
<td>Wave completed</td>
</tr>
<tr>
<td>0xC4</td>
<td>SERVER_PLAYER_LEVEL_UP</td>
<td>Player leveled up</td>
</tr>
<tr>
<td>0xC5</td>
<td>SERVER_PLAYER_RESPAWN</td>
<td>Player respawned</td>
</tr>
<tr>
<td>0xC6</td>
<td>SERVER_GAME_OVER</td>
<td>Game session ended</td>
</tr>
<tr>
<td>0xC7</td>
<td>SERVER_LEADERBOARD</td>
<td>End-game leaderboard with all scores</td>
</tr>
<tr>
<td>0xF0</td>
<td>SERVER_ADMIN_AUTH_RESULT</td>
<td>Admin authentication result</td>
</tr>
<tr>
<td>0xF1</td>
<td>SERVER_ADMIN_COMMAND_RESULT</td>
<td>Admin command execution result</td>
</tr>
<tr>
<td>0xF2</td>
<td>SERVER_ADMIN_NOTIFICATION</td>
<td>Server-wide admin notification</td>
</tr>
<tr>
<td>0xF3</td>
<td>SERVER_KICK_NOTIFICATION</td>
<td>Player kicked by admin</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="5-payload-formats">5. Payload Formats</h2>
<p>All multi-byte integer fields are in network byte order (big-endian) unless otherwise specified. Floating-point values use IEEE 754 single precision (32-bit) format.</p>
<h3 id="51-connection-management-payloads">5.1 Connection Management Payloads</h3>
<h4 id="511-client_connect-0x01">5.1.1 CLIENT_CONNECT (0x01)</h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>    0                   1                   2                   3
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>   |  Client Ver   |                                               |
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>   +-+-+-+-+-+-+-+-+                                               +
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>   |                        Player Name (32 bytes)                 |
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>   +                                                               +
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a>   |                             ...                               |
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</code></pre></div>
<table>
<thead>
<tr>
<th>Field</th>
<th>Size</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Client Ver</td>
<td>1 byte</td>
<td>Client version identifier (0x01)</td>
</tr>
<tr>
<td>Player Name</td>
<td>32 bytes</td>
<td>UTF-8 player name (null-terminated/padded)</td>
</tr>
</tbody>
</table>
<p><strong>Total Size</strong>: 33 bytes</p>
<h4 id="512-client_disconnect-0x02">5.1.2 CLIENT_DISCONNECT (0x02)</h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>    0                   1                   2                   3
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>   |                          Player ID                            |
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>   |    Reason     |
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a>   +-+-+-+-+-+-+-+-+
</code></pre></div>
<table>
<thead>
<tr>
<th>Field</th>
<th>Size</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Player ID</td>
<td>4 bytes</td>
<td>Player identifier</td>
</tr>
<tr>
<td>Reason</td>
<td>1 byte</td>
<td>Disconnect reason code</td>
</tr>
</tbody>
</table>
<p><strong>Reason Codes</strong>:
- <code>0x01</code>: USER_QUIT - Player voluntarily quit
- <code>0x02</code>: TIMEOUT - Connection timeout
- <code>0x03</code>: ERROR - Client error</p>
<p><strong>Total Size</strong>: 5 bytes</p>
<h4 id="513-client_ping-0x04">5.1.3 CLIENT_PING (0x04)</h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>    0                   1                   2                   3
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>   |                          Player ID                            |
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a>   |                       Client Timestamp                        |
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</code></pre></div>
<table>
<thead>
<tr>
<th>Field</th>
<th>Size</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Player ID</td>
<td>4 bytes</td>
<td>Player identifier</td>
</tr>
<tr>
<td>Client Timestamp</td>
<td>4 bytes</td>
<td>Client timestamp (milliseconds)</td>
</tr>
</tbody>
</table>
<p><strong>Total Size</strong>: 8 bytes</p>
<h4 id="514-server_accept-0x81">5.1.4 SERVER_ACCEPT (0x81)</h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>    0                   1                   2                   3
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>   |                      Assigned Player ID                       |
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>   | Server Tick R |  Max Players  |           Map ID              |
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</code></pre></div>
<table>
<thead>
<tr>
<th>Field</th>
<th>Size</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Assigned Player ID</td>
<td>4 bytes</td>
<td>Unique player ID assigned by server</td>
</tr>
<tr>
<td>Server Tick Rate</td>
<td>1 byte</td>
<td>Server tick rate in Hz (typically 60)</td>
</tr>
<tr>
<td>Max Players</td>
<td>1 byte</td>
<td>Maximum players per game session</td>
</tr>
<tr>
<td>Map ID</td>
<td>2 bytes</td>
<td>Default map identifier</td>
</tr>
</tbody>
</table>
<p><strong>Total Size</strong>: 8 bytes</p>
<h4 id="515-server_reject-0x82">5.1.5 SERVER_REJECT (0x82)</h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>    0                   1                   2                   3
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>   | Reason Code   |                                               |
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a>   +-+-+-+-+-+-+-+-+                                               +
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a>   |                    Reason Message (64 bytes)                  |
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a>   +                                                               +
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a>   |                             ...                               |
<a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</code></pre></div>
<table>
<thead>
<tr>
<th>Field</th>
<th>Size</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Reason Code</td>
<td>1 byte</td>
<td>Rejection reason code</td>
</tr>
<tr>
<td>Reason Message</td>
<td>64 bytes</td>
<td>UTF-8 human-readable message</td>
</tr>
</tbody>
</table>
<p><strong>Reason Codes</strong>:
- <code>0x01</code>: SERVER_FULL - Server at maximum capacity
- <code>0x02</code>: VERSION_MISMATCH - Client version incompatible
- <code>0x03</code>: BANNED - Player is banned
- <code>0x04</code>: MAINTENANCE - Server in maintenance mode</p>
<p><strong>Total Size</strong>: 65 bytes</p>
<h4 id="516-server_pong-0x85">5.1.6 SERVER_PONG (0x85)</h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>    0                   1                   2                   3
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>   |                       Client Timestamp                        |
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a>   |                       Server Timestamp                        |
<a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</code></pre></div>
<table>
<thead>
<tr>
<th>Field</th>
<th>Size</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Client Timestamp</td>
<td>4 bytes</td>
<td>Echo of client timestamp from CLIENT_PING</td>
</tr>
<tr>
<td>Server Timestamp</td>
<td>4 bytes</td>
<td>Server timestamp (milliseconds)</td>
</tr>
</tbody>
</table>
<p><strong>Total Size</strong>: 8 bytes</p>
<h3 id="52-lobby-matchmaking-payloads">5.2 Lobby &amp; Matchmaking Payloads</h3>
<h4 id="521-client_join_lobby-0x05">5.2.1 CLIENT_JOIN_LOBBY (0x05)</h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>    0                   1                   2                   3
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a>   |                          Player ID                            |
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a>   |   Game Mode   |  Difficulty   |
<a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</code></pre></div>
<table>
<thead>
<tr>
<th>Field</th>
<th>Size</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Player ID</td>
<td>4 bytes</td>
<td>Player identifier</td>
</tr>
<tr>
<td>Game Mode</td>
<td>1 byte</td>
<td>Requested game mode</td>
</tr>
<tr>
<td>Difficulty</td>
<td>1 byte</td>
<td>Requested difficulty level</td>
</tr>
</tbody>
</table>
<p><strong>Game Mode Values</strong>:
- <code>0x01</code>: DUO - 2 players
- <code>0x02</code>: TRIO - 3 players
- <code>0x03</code>: SQUAD - 4 players</p>
<p><strong>Difficulty Values</strong>:
- <code>0x01</code>: EASY
- <code>0x02</code>: NORMAL
- <code>0x03</code>: HARD</p>
<p><strong>Total Size</strong>: 6 bytes</p>
<h4 id="522-client_leave_lobby-0x06">5.2.2 CLIENT_LEAVE_LOBBY (0x06)</h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>    0                   1                   2                   3
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a>   |                          Player ID                            |
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a>   |                          Lobby ID                             |
<a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</code></pre></div>
<table>
<thead>
<tr>
<th>Field</th>
<th>Size</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Player ID</td>
<td>4 bytes</td>
<td>Player identifier</td>
</tr>
<tr>
<td>Lobby ID</td>
<td>4 bytes</td>
<td>Lobby to leave</td>
</tr>
</tbody>
</table>
<p><strong>Total Size</strong>: 8 bytes</p>
<h4 id="523-server_lobby_state-0x87">5.2.3 SERVER_LOBBY_STATE (0x87)</h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>    0                   1                   2                   3
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a>   |                          Lobby ID                             |
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a>   |   Game Mode   |  Difficulty   | Current Count | Required Count|
<a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a>   |                      Player Entry (38 bytes)                  |
<a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a>   |                             ...                               |
<a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</code></pre></div>
<table>
<thead>
<tr>
<th>Field</th>
<th>Size</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Lobby ID</td>
<td>4 bytes</td>
<td>Unique lobby identifier</td>
</tr>
<tr>
<td>Game Mode</td>
<td>1 byte</td>
<td>Selected game mode (see 5.2.1)</td>
</tr>
<tr>
<td>Difficulty</td>
<td>1 byte</td>
<td>Selected difficulty (see 5.2.1)</td>
</tr>
<tr>
<td>Current Player Count</td>
<td>1 byte</td>
<td>Number of players currently in lobby</td>
</tr>
<tr>
<td>Required Player Count</td>
<td>1 byte</td>
<td>Players needed to start game</td>
</tr>
<tr>
<td>Player Entries</td>
<td>Variable</td>
<td>Array of player information</td>
</tr>
</tbody>
</table>
<p><strong>Player Entry Format (39 bytes each)</strong>:</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Size</th>
<th>Offset</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Player ID</td>
<td>4 bytes</td>
<td>0</td>
<td>Player identifier</td>
</tr>
<tr>
<td>Player Name</td>
<td>32 bytes</td>
<td>4</td>
<td>Player name (UTF-8)</td>
</tr>
<tr>
<td>Player Level</td>
<td>2 bytes</td>
<td>36</td>
<td>Player level (for display)</td>
</tr>
<tr>
<td>Skin ID</td>
<td>1 byte</td>
<td>38</td>
<td>Player skin (0-14)</td>
</tr>
</tbody>
</table>
<p><strong>Total Size</strong>: 8 + (39  Current Player Count) bytes</p>
<p><strong>Example</strong>: For 3 players in a squad lobby: 8 + (39  3) = 125 bytes</p>
<p><strong>Skin ID Values</strong> (0-14):
- Skins 0-4: Green ships (Scout, Fighter, Cruiser, Bomber, Carrier)
- Skins 5-9: Red ships (Scout, Fighter, Cruiser, Bomber, Carrier)
- Skins 10-14: Blue ships (Scout, Fighter, Cruiser, Bomber, Carrier)</p>
<h4 id="524-server_game_start_countdown-0x88">5.2.4 SERVER_GAME_START_COUNTDOWN (0x88)</h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>    0                   1                   2                   3
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a>   |                          Lobby ID                             |
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a>   |Countdown Value|   Game Mode   |  Difficulty   |    Map ID     |
<a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a>   |    Map ID     |
<a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a>   +-+-+-+-+-+-+-+-+
</code></pre></div>
<table>
<thead>
<tr>
<th>Field</th>
<th>Size</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Lobby ID</td>
<td>4 bytes</td>
<td>Lobby identifier</td>
</tr>
<tr>
<td>Countdown Value</td>
<td>1 byte</td>
<td>Seconds remaining (5, 4, 3, 2, 1)</td>
</tr>
<tr>
<td>Game Mode</td>
<td>1 byte</td>
<td>Game mode (see 5.2.1)</td>
</tr>
<tr>
<td>Difficulty</td>
<td>1 byte</td>
<td>Difficulty (see 5.2.1)</td>
</tr>
<tr>
<td>Map ID</td>
<td>2 bytes</td>
<td>Map to be loaded</td>
</tr>
</tbody>
</table>
<p><strong>Total Size</strong>: 9 bytes</p>
<h4 id="525-server_countdown_cancelled-0x89">5.2.5 SERVER_COUNTDOWN_CANCELLED (0x89)</h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>    0                   1                   2                   3
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a>   |                          Lobby ID                             |
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a>   |    Reason     | New Plr Count |Required Count |
<a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</code></pre></div>
<table>
<thead>
<tr>
<th>Field</th>
<th>Size</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Lobby ID</td>
<td>4 bytes</td>
<td>Lobby identifier</td>
</tr>
<tr>
<td>Reason</td>
<td>1 byte</td>
<td>Cancellation reason code</td>
</tr>
<tr>
<td>New Player Count</td>
<td>1 byte</td>
<td>Current player count after event</td>
</tr>
<tr>
<td>Required Count</td>
<td>1 byte</td>
<td>Players needed to restart countdown</td>
</tr>
</tbody>
</table>
<p><strong>Reason Codes</strong>:
- <code>0x01</code>: PLAYER_LEFT - A player left during countdown
- <code>0x02</code>: SERVER_ERROR - Server error occurred</p>
<p><strong>Total Size</strong>: 7 bytes</p>
<h4 id="526-server_game_start-0x8a">5.2.6 SERVER_GAME_START (0x8A)</h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>    0                   1                   2                   3
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a>   |                      Game Session ID                          |
<a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a>   |   Game Mode   |  Difficulty   |                               |
<a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+                               +
<a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a>   |                        Server Tick                            |
<a id="__codelineno-12-9" name="__codelineno-12-9" href="#__codelineno-12-9"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-12-10" name="__codelineno-12-10" href="#__codelineno-12-10"></a>   |                         Level Seed                            |
<a id="__codelineno-12-11" name="__codelineno-12-11" href="#__codelineno-12-11"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-12-12" name="__codelineno-12-12" href="#__codelineno-12-12"></a>   |                   Player Spawn Data (12 bytes each)           |
<a id="__codelineno-12-13" name="__codelineno-12-13" href="#__codelineno-12-13"></a>   |                             ...                               |
<a id="__codelineno-12-14" name="__codelineno-12-14" href="#__codelineno-12-14"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</code></pre></div>
<table>
<thead>
<tr>
<th>Field</th>
<th>Size</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Game Session ID</td>
<td>4 bytes</td>
<td>Unique session identifier</td>
</tr>
<tr>
<td>Game Mode</td>
<td>1 byte</td>
<td>Game mode (see 5.2.1)</td>
</tr>
<tr>
<td>Difficulty</td>
<td>1 byte</td>
<td>Difficulty (see 5.2.1)</td>
</tr>
<tr>
<td>Server Tick</td>
<td>4 bytes</td>
<td>Starting server tick</td>
</tr>
<tr>
<td>Level Seed</td>
<td>4 bytes</td>
<td>Random seed for procedural generation</td>
</tr>
<tr>
<td>Spawn Data Array</td>
<td>Variable</td>
<td>Player spawn positions</td>
</tr>
</tbody>
</table>
<p><strong>Player Spawn Data Format (12 bytes each)</strong>:</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Size</th>
<th>Offset</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Player ID</td>
<td>4 bytes</td>
<td>0</td>
<td>Player identifier</td>
</tr>
<tr>
<td>Spawn X</td>
<td>4 bytes</td>
<td>4</td>
<td>X coordinate (IEEE 754 float)</td>
</tr>
<tr>
<td>Spawn Y</td>
<td>4 bytes</td>
<td>8</td>
<td>Y coordinate (IEEE 754 float)</td>
</tr>
</tbody>
</table>
<p><strong>Total Size</strong>: 14 + (12  Player Count) bytes</p>
<h3 id="53-custom-room-management-payloads">5.3 Custom Room Management Payloads</h3>
<h4 id="531-client_create_room-0x20">5.3.1 CLIENT_CREATE_ROOM (0x20)</h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>    0                   1                   2                   3
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a>    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
<a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a>   |                          Player ID                            |
<a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a>   |                                                               |
<a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a>   +                    Room Name (32 bytes)                       +
<a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a>   |                             ...                               |
<a id="__codelineno-13-9" name="__codelineno-13-9" href="#__codelineno-13-9"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-13-10" name="__codelineno-13-10" href="#__codelineno-13-10"></a>   |                                                               |
<a id="__codelineno-13-11" name="__codelineno-13-11" href="#__codelineno-13-11"></a>   +                 Password Hash (64 bytes, SHA-256)             +
<a id="__codelineno-13-12" name="__codelineno-13-12" href="#__codelineno-13-12"></a>   |                             ...                               |
<a id="__codelineno-13-13" name="__codelineno-13-13" href="#__codelineno-13-13"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-13-14" name="__codelineno-13-14" href="#__codelineno-13-14"></a>   |   Game Mode   |  Difficulty   |           Map ID              |
<a id="__codelineno-13-15" name="__codelineno-13-15" href="#__codelineno-13-15"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</code></pre></div>
<table>
<thead>
<tr>
<th>Field</th>
<th>Size</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Player ID</td>
<td>4 bytes</td>
<td>Player creating the room (becomes host)</td>
</tr>
<tr>
<td>Room Name</td>
<td>32 bytes</td>
<td>Optional room name (empty = auto-generated)</td>
</tr>
<tr>
<td>Password Hash</td>
<td>64 bytes</td>
<td>SHA-256 hash of password (empty = public room)</td>
</tr>
<tr>
<td>Game Mode</td>
<td>1 byte</td>
<td>Game mode (see 5.2.1)</td>
</tr>
<tr>
<td>Difficulty</td>
<td>1 byte</td>
<td>Difficulty level (see 5.2.1)</td>
</tr>
<tr>
<td>Map ID</td>
<td>2 bytes</td>
<td>Map identifier</td>
</tr>
</tbody>
</table>
<p><strong>Total Size</strong>: 104 bytes</p>
<p><strong>Security Note</strong>: Password is hashed client-side using SHA-256. Empty hash indicates public room.</p>
<h4 id="532-client_join_room-0x21">5.3.2 CLIENT_JOIN_ROOM (0x21)</h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>    0                   1                   2                   3
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a>   |                          Player ID                            |
<a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a>   |                          Room ID                              |
<a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a>   |                                                               |
<a id="__codelineno-14-9" name="__codelineno-14-9" href="#__codelineno-14-9"></a>   +                 Password Hash (64 bytes, SHA-256)             +
<a id="__codelineno-14-10" name="__codelineno-14-10" href="#__codelineno-14-10"></a>   |                             ...                               |
<a id="__codelineno-14-11" name="__codelineno-14-11" href="#__codelineno-14-11"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</code></pre></div>
<table>
<thead>
<tr>
<th>Field</th>
<th>Size</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Player ID</td>
<td>4 bytes</td>
<td>Player joining the room</td>
</tr>
<tr>
<td>Room ID</td>
<td>4 bytes</td>
<td>Target room identifier</td>
</tr>
<tr>
<td>Password Hash</td>
<td>64 bytes</td>
<td>SHA-256 hash of password (if private)</td>
</tr>
</tbody>
</table>
<p><strong>Total Size</strong>: 72 bytes</p>
<h4 id="533-client_leave_room-0x22">5.3.3 CLIENT_LEAVE_ROOM (0x22)</h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>    0                   1                   2                   3
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a>    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
<a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a>   |                          Player ID                            |
<a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a>   |                          Room ID                              |
<a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</code></pre></div>
<table>
<thead>
<tr>
<th>Field</th>
<th>Size</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Player ID</td>
<td>4 bytes</td>
<td>Player leaving the room</td>
</tr>
<tr>
<td>Room ID</td>
<td>4 bytes</td>
<td>Room to leave</td>
</tr>
</tbody>
</table>
<p><strong>Total Size</strong>: 8 bytes</p>
<h4 id="534-client_request_room_list-0x23">5.3.4 CLIENT_REQUEST_ROOM_LIST (0x23)</h4>
<p>This packet has no payload. The header is sufficient.</p>
<p><strong>Total Size</strong>: 0 bytes (header only)</p>
<h4 id="535-client_start_game-0x24">5.3.5 CLIENT_START_GAME (0x24)</h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>    0                   1                   2                   3
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a>    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
<a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a>   |                          Player ID                            |
<a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a>   |                          Room ID                              |
<a id="__codelineno-16-7" name="__codelineno-16-7" href="#__codelineno-16-7"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</code></pre></div>
<table>
<thead>
<tr>
<th>Field</th>
<th>Size</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Player ID</td>
<td>4 bytes</td>
<td>Player requesting start (must be host)</td>
</tr>
<tr>
<td>Room ID</td>
<td>4 bytes</td>
<td>Room to start</td>
</tr>
</tbody>
</table>
<p><strong>Total Size</strong>: 8 bytes</p>
<p><strong>Authorization</strong>: Only the room host can start the game. Server validates host status.</p>
<h4 id="536-server_room_created-0x90">5.3.6 SERVER_ROOM_CREATED (0x90)</h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a>    0                   1                   2                   3
<a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a>    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
<a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a>   |                          Room ID                              |
<a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a>   |                                                               |
<a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a>   +                    Room Name (32 bytes)                       +
<a id="__codelineno-17-8" name="__codelineno-17-8" href="#__codelineno-17-8"></a>   |                             ...                               |
<a id="__codelineno-17-9" name="__codelineno-17-9" href="#__codelineno-17-9"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</code></pre></div>
<table>
<thead>
<tr>
<th>Field</th>
<th>Size</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Room ID</td>
<td>4 bytes</td>
<td>Newly created room identifier</td>
</tr>
<tr>
<td>Room Name</td>
<td>32 bytes</td>
<td>Final room name (auto-generated or custom)</td>
</tr>
</tbody>
</table>
<p><strong>Total Size</strong>: 36 bytes</p>
<p><strong>Note</strong>: Room IDs for custom rooms start at 1000 to distinguish from matchmaking lobbies.</p>
<h4 id="537-server_room_list-0x91">5.3.7 SERVER_ROOM_LIST (0x91)</h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a>    0                   1                   2                   3
<a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a>    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
<a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a>   |         Room Count            |                               |
<a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+                               +
<a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a>   |                   Room Info Entry (44 bytes each)             |
<a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a>   |                             ...                               |
<a id="__codelineno-18-8" name="__codelineno-18-8" href="#__codelineno-18-8"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</code></pre></div>
<table>
<thead>
<tr>
<th>Field</th>
<th>Size</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Room Count</td>
<td>2 bytes</td>
<td>Number of rooms in list</td>
</tr>
<tr>
<td>Room Entries</td>
<td>Variable</td>
<td>Array of room information</td>
</tr>
</tbody>
</table>
<p><strong>Room Info Entry Format (44 bytes each)</strong>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a>    0                   1                   2                   3
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a>    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
<a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a>   |                          Room ID                              |
<a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a>   |                                                               |
<a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a>   +                    Room Name (32 bytes)                       +
<a id="__codelineno-19-8" name="__codelineno-19-8" href="#__codelineno-19-8"></a>   |                             ...                               |
<a id="__codelineno-19-9" name="__codelineno-19-9" href="#__codelineno-19-9"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-19-10" name="__codelineno-19-10" href="#__codelineno-19-10"></a>   |   Game Mode   |  Difficulty   |Current Players| Max Players   |
<a id="__codelineno-19-11" name="__codelineno-19-11" href="#__codelineno-19-11"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-19-12" name="__codelineno-19-12" href="#__codelineno-19-12"></a>   |           Map ID              |    Status     |  Is Private   |
<a id="__codelineno-19-13" name="__codelineno-19-13" href="#__codelineno-19-13"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</code></pre></div>
<table>
<thead>
<tr>
<th>Field</th>
<th>Size</th>
<th>Offset</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Room ID</td>
<td>4 bytes</td>
<td>0</td>
<td>Room identifier</td>
</tr>
<tr>
<td>Room Name</td>
<td>32 bytes</td>
<td>4</td>
<td>Room name (UTF-8)</td>
</tr>
<tr>
<td>Game Mode</td>
<td>1 byte</td>
<td>36</td>
<td>Game mode (see 5.2.1)</td>
</tr>
<tr>
<td>Difficulty</td>
<td>1 byte</td>
<td>37</td>
<td>Difficulty (see 5.2.1)</td>
</tr>
<tr>
<td>Current Players</td>
<td>1 byte</td>
<td>38</td>
<td>Number of players in room</td>
</tr>
<tr>
<td>Max Players</td>
<td>1 byte</td>
<td>39</td>
<td>Maximum room capacity</td>
</tr>
<tr>
<td>Map ID</td>
<td>2 bytes</td>
<td>40</td>
<td>Map identifier</td>
</tr>
<tr>
<td>Status</td>
<td>1 byte</td>
<td>42</td>
<td>Room status code</td>
</tr>
<tr>
<td>Is Private</td>
<td>1 byte</td>
<td>43</td>
<td>1 if password-protected, 0 if public</td>
</tr>
</tbody>
</table>
<p><strong>Room Status Codes</strong>:
- <code>0x01</code>: WAITING - Room waiting for players
- <code>0x02</code>: IN_PROGRESS - Game in progress
- <code>0x03</code>: FINISHED - Game finished</p>
<p><strong>Total Size</strong>: 2 + (44  Room Count) bytes</p>
<p><strong>Note</strong>: Only rooms with status WAITING are typically included in the list.</p>
<h4 id="538-server_room_joined-0x92">5.3.8 SERVER_ROOM_JOINED (0x92)</h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a>    0                   1                   2                   3
<a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a>    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
<a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a>   |                          Room ID                              |
<a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</code></pre></div>
<table>
<thead>
<tr>
<th>Field</th>
<th>Size</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Room ID</td>
<td>4 bytes</td>
<td>ID of room successfully joined</td>
</tr>
</tbody>
</table>
<p><strong>Total Size</strong>: 4 bytes</p>
<h4 id="539-server_room_left-0x93">5.3.9 SERVER_ROOM_LEFT (0x93)</h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a>    0                   1                   2                   3
<a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a>    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
<a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a>   |                          Player ID                            |
<a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-21-6" name="__codelineno-21-6" href="#__codelineno-21-6"></a>   |                          Room ID                              |
<a id="__codelineno-21-7" name="__codelineno-21-7" href="#__codelineno-21-7"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</code></pre></div>
<table>
<thead>
<tr>
<th>Field</th>
<th>Size</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Player ID</td>
<td>4 bytes</td>
<td>Player who left</td>
</tr>
<tr>
<td>Room ID</td>
<td>4 bytes</td>
<td>Room that was left</td>
</tr>
</tbody>
</table>
<p><strong>Total Size</strong>: 8 bytes</p>
<h4 id="5310-server_room_error-0x95">5.3.10 SERVER_ROOM_ERROR (0x95)</h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a>    0                   1                   2                   3
<a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a>    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
<a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a>   |  Error Code   |                                               |
<a id="__codelineno-22-5" name="__codelineno-22-5" href="#__codelineno-22-5"></a>   +-+-+-+-+-+-+-+-+                                               +
<a id="__codelineno-22-6" name="__codelineno-22-6" href="#__codelineno-22-6"></a>   |                  Error Message (64 bytes)                     |
<a id="__codelineno-22-7" name="__codelineno-22-7" href="#__codelineno-22-7"></a>   +                                                               +
<a id="__codelineno-22-8" name="__codelineno-22-8" href="#__codelineno-22-8"></a>   |                             ...                               |
<a id="__codelineno-22-9" name="__codelineno-22-9" href="#__codelineno-22-9"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</code></pre></div>
<table>
<thead>
<tr>
<th>Field</th>
<th>Size</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Error Code</td>
<td>1 byte</td>
<td>Room error code</td>
</tr>
<tr>
<td>Error Message</td>
<td>64 bytes</td>
<td>Human-readable error message (UTF-8)</td>
</tr>
</tbody>
</table>
<p><strong>Error Codes</strong>:
- <code>0x01</code>: ROOM_NOT_FOUND - Specified room does not exist
- <code>0x02</code>: ROOM_FULL - Room has reached maximum player capacity
- <code>0x03</code>: WRONG_PASSWORD - Incorrect password for private room
- <code>0x04</code>: ALREADY_STARTED - Room game already in progress
- <code>0x05</code>: NOT_HOST - Operation requires host privileges
- <code>0x06</code>: INVALID_CONFIGURATION - Invalid room settings
- <code>0x07</code>: ALREADY_IN_ROOM - Player already in a lobby or room</p>
<p><strong>Total Size</strong>: 65 bytes</p>
<h4 id="5311-client_set_player_name-0x25">5.3.11 CLIENT_SET_PLAYER_NAME (0x25)</h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a>    0                   1                   2                   3
<a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a>    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
<a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a>   |                          Player ID                            |
<a id="__codelineno-23-5" name="__codelineno-23-5" href="#__codelineno-23-5"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-23-6" name="__codelineno-23-6" href="#__codelineno-23-6"></a>   |                                                               |
<a id="__codelineno-23-7" name="__codelineno-23-7" href="#__codelineno-23-7"></a>   +                    New Name (32 bytes)                        +
<a id="__codelineno-23-8" name="__codelineno-23-8" href="#__codelineno-23-8"></a>   |                             ...                               |
<a id="__codelineno-23-9" name="__codelineno-23-9" href="#__codelineno-23-9"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</code></pre></div>
<table>
<thead>
<tr>
<th>Field</th>
<th>Size</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Player ID</td>
<td>4 bytes</td>
<td>Player changing their name</td>
</tr>
<tr>
<td>New Name</td>
<td>32 bytes</td>
<td>New player name (UTF-8, null-padded)</td>
</tr>
</tbody>
</table>
<p><strong>Total Size</strong>: 36 bytes</p>
<h4 id="5312-client_set_player_skin-0x26">5.3.12 CLIENT_SET_PLAYER_SKIN (0x26)</h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a>    0                   1                   2                   3
<a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a>    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
<a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a>   |                          Player ID                            |
<a id="__codelineno-24-5" name="__codelineno-24-5" href="#__codelineno-24-5"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-24-6" name="__codelineno-24-6" href="#__codelineno-24-6"></a>   |   Skin ID     |
<a id="__codelineno-24-7" name="__codelineno-24-7" href="#__codelineno-24-7"></a>   +-+-+-+-+-+-+-+-+
</code></pre></div>
<table>
<thead>
<tr>
<th>Field</th>
<th>Size</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Player ID</td>
<td>4 bytes</td>
<td>Player changing their skin</td>
</tr>
<tr>
<td>Skin ID</td>
<td>1 byte</td>
<td>New skin ID (0-14)</td>
</tr>
</tbody>
</table>
<p><strong>Skin ID Values</strong>: See SERVER_LOBBY_STATE Player Entry Format.</p>
<p><strong>Total Size</strong>: 5 bytes</p>
<h4 id="5313-server_player_name_updated-0x96">5.3.13 SERVER_PLAYER_NAME_UPDATED (0x96)</h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a>    0                   1                   2                   3
<a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a>    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
<a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-25-4" name="__codelineno-25-4" href="#__codelineno-25-4"></a>   |                          Player ID                            |
<a id="__codelineno-25-5" name="__codelineno-25-5" href="#__codelineno-25-5"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-25-6" name="__codelineno-25-6" href="#__codelineno-25-6"></a>   |                                                               |
<a id="__codelineno-25-7" name="__codelineno-25-7" href="#__codelineno-25-7"></a>   +                    New Name (32 bytes)                        +
<a id="__codelineno-25-8" name="__codelineno-25-8" href="#__codelineno-25-8"></a>   |                             ...                               |
<a id="__codelineno-25-9" name="__codelineno-25-9" href="#__codelineno-25-9"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-25-10" name="__codelineno-25-10" href="#__codelineno-25-10"></a>   |                          Room ID                              |
<a id="__codelineno-25-11" name="__codelineno-25-11" href="#__codelineno-25-11"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</code></pre></div>
<table>
<thead>
<tr>
<th>Field</th>
<th>Size</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Player ID</td>
<td>4 bytes</td>
<td>Player who changed name</td>
</tr>
<tr>
<td>New Name</td>
<td>32 bytes</td>
<td>Updated player name (UTF-8)</td>
</tr>
<tr>
<td>Room ID</td>
<td>4 bytes</td>
<td>Room where change occurred</td>
</tr>
</tbody>
</table>
<p><strong>Total Size</strong>: 40 bytes</p>
<p><strong>Note</strong>: Broadcast to all players in the room when a player changes their name.</p>
<h4 id="5314-server_player_skin_updated-0x97">5.3.14 SERVER_PLAYER_SKIN_UPDATED (0x97)</h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a>    0                   1                   2                   3
<a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a>    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
<a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-26-4" name="__codelineno-26-4" href="#__codelineno-26-4"></a>   |                          Player ID                            |
<a id="__codelineno-26-5" name="__codelineno-26-5" href="#__codelineno-26-5"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-26-6" name="__codelineno-26-6" href="#__codelineno-26-6"></a>   |   Skin ID     |                                               |
<a id="__codelineno-26-7" name="__codelineno-26-7" href="#__codelineno-26-7"></a>   +-+-+-+-+-+-+-+-+                                               +
<a id="__codelineno-26-8" name="__codelineno-26-8" href="#__codelineno-26-8"></a>   |                          Room ID                              |
<a id="__codelineno-26-9" name="__codelineno-26-9" href="#__codelineno-26-9"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</code></pre></div>
<table>
<thead>
<tr>
<th>Field</th>
<th>Size</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Player ID</td>
<td>4 bytes</td>
<td>Player who changed skin</td>
</tr>
<tr>
<td>Skin ID</td>
<td>1 byte</td>
<td>New skin ID (0-14)</td>
</tr>
<tr>
<td>Room ID</td>
<td>4 bytes</td>
<td>Room where change occurred</td>
</tr>
</tbody>
</table>
<p><strong>Total Size</strong>: 9 bytes</p>
<p><strong>Note</strong>: Broadcast to all players in the room when a player changes their skin.</p>
<h3 id="54-player-input-payloads">5.4 Player Input Payloads</h3>
<h4 id="541-client_input-0x10">5.4.1 CLIENT_INPUT (0x10)</h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a>    0                   1                   2                   3
<a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a>    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
<a id="__codelineno-27-3" name="__codelineno-27-3" href="#__codelineno-27-3"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-27-4" name="__codelineno-27-4" href="#__codelineno-27-4"></a>   |                          Player ID                            |
<a id="__codelineno-27-5" name="__codelineno-27-5" href="#__codelineno-27-5"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-27-6" name="__codelineno-27-6" href="#__codelineno-27-6"></a>   |         Input Flags           |                               |
<a id="__codelineno-27-7" name="__codelineno-27-7" href="#__codelineno-27-7"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+                               +
<a id="__codelineno-27-8" name="__codelineno-27-8" href="#__codelineno-27-8"></a>   |                       Client Tick                             |
<a id="__codelineno-27-9" name="__codelineno-27-9" href="#__codelineno-27-9"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</code></pre></div>
<table>
<thead>
<tr>
<th>Field</th>
<th>Size</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Player ID</td>
<td>4 bytes</td>
<td>Player identifier</td>
</tr>
<tr>
<td>Input Flags</td>
<td>2 bytes</td>
<td>Bitfield of pressed inputs</td>
</tr>
<tr>
<td>Client Tick</td>
<td>4 bytes</td>
<td>Client tick number (for prediction)</td>
</tr>
</tbody>
</table>
<p><strong>Input Flags Bitfield</strong>:
- Bit 0: UP - Move up
- Bit 1: DOWN - Move down
- Bit 2: LEFT - Move left
- Bit 3: RIGHT - Move right
- Bit 4: SHOOT - Fire weapon
- Bit 5: CHARGE - Charge weapon (hold)
- Bit 6: SPECIAL - Special ability
- Bits 7-15: Reserved (MUST be 0)</p>
<p><strong>Total Size</strong>: 10 bytes</p>
<p><strong>Frequency</strong>: Clients SHOULD send CLIENT_INPUT at the game frame rate (typically 60 Hz).</p>
<h3 id="54-world-state-payloads">5.4 World State Payloads</h3>
<h4 id="541-server_snapshot-0xa0">5.4.1 SERVER_SNAPSHOT (0xA0)</h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a>    0                   1                   2                   3
<a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a>    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
<a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-28-4" name="__codelineno-28-4" href="#__codelineno-28-4"></a>   |                         Server Tick                           |
<a id="__codelineno-28-5" name="__codelineno-28-5" href="#__codelineno-28-5"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-28-6" name="__codelineno-28-6" href="#__codelineno-28-6"></a>   |       Entity Count            |                               |
<a id="__codelineno-28-7" name="__codelineno-28-7" href="#__codelineno-28-7"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+                               +
<a id="__codelineno-28-8" name="__codelineno-28-8" href="#__codelineno-28-8"></a>   |                   Entity State Array (25 bytes each)          |
<a id="__codelineno-28-9" name="__codelineno-28-9" href="#__codelineno-28-9"></a>   |                             ...                               |
<a id="__codelineno-28-10" name="__codelineno-28-10" href="#__codelineno-28-10"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</code></pre></div>
<table>
<thead>
<tr>
<th>Field</th>
<th>Size</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Server Tick</td>
<td>4 bytes</td>
<td>Current server tick number</td>
</tr>
<tr>
<td>Entity Count</td>
<td>2 bytes</td>
<td>Number of entities in snapshot</td>
</tr>
<tr>
<td>Entity States</td>
<td>Variable</td>
<td>Array of entity states</td>
</tr>
</tbody>
</table>
<p><strong>Entity State Format (25 bytes each)</strong>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a>    0                   1                   2                   3
<a id="__codelineno-29-2" name="__codelineno-29-2" href="#__codelineno-29-2"></a>    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
<a id="__codelineno-29-3" name="__codelineno-29-3" href="#__codelineno-29-3"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-29-4" name="__codelineno-29-4" href="#__codelineno-29-4"></a>   |                          Entity ID                            |
<a id="__codelineno-29-5" name="__codelineno-29-5" href="#__codelineno-29-5"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-29-6" name="__codelineno-29-6" href="#__codelineno-29-6"></a>   | Entity Type   |                Position X (float)             |
<a id="__codelineno-29-7" name="__codelineno-29-7" href="#__codelineno-29-7"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-29-8" name="__codelineno-29-8" href="#__codelineno-29-8"></a>   | Position X    |           Position Y (float)                  |
<a id="__codelineno-29-9" name="__codelineno-29-9" href="#__codelineno-29-9"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-29-10" name="__codelineno-29-10" href="#__codelineno-29-10"></a>   | Position Y    |    Velocity X (int16)     |  Velocity Y       |
<a id="__codelineno-29-11" name="__codelineno-29-11" href="#__codelineno-29-11"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-29-12" name="__codelineno-29-12" href="#__codelineno-29-12"></a>   |  Velocity Y   |         Health            |      Flags        |
<a id="__codelineno-29-13" name="__codelineno-29-13" href="#__codelineno-29-13"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-29-14" name="__codelineno-29-14" href="#__codelineno-29-14"></a>   |     Flags     |              Last Ack Sequence                |
<a id="__codelineno-29-15" name="__codelineno-29-15" href="#__codelineno-29-15"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-29-16" name="__codelineno-29-16" href="#__codelineno-29-16"></a>   | Last Ack Seq  |
<a id="__codelineno-29-17" name="__codelineno-29-17" href="#__codelineno-29-17"></a>   +-+-+-+-+-+-+-+-+
</code></pre></div>
<table>
<thead>
<tr>
<th>Field</th>
<th>Size</th>
<th>Offset</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Entity ID</td>
<td>4 bytes</td>
<td>0</td>
<td>Unique entity identifier</td>
</tr>
<tr>
<td>Entity Type</td>
<td>1 byte</td>
<td>4</td>
<td>Entity type code</td>
</tr>
<tr>
<td>Position X</td>
<td>4 bytes</td>
<td>5</td>
<td>X position (IEEE 754 float)</td>
</tr>
<tr>
<td>Position Y</td>
<td>4 bytes</td>
<td>9</td>
<td>Y position (IEEE 754 float)</td>
</tr>
<tr>
<td>Velocity X</td>
<td>2 bytes</td>
<td>13</td>
<td>X velocity (int16, scaled by 10)</td>
</tr>
<tr>
<td>Velocity Y</td>
<td>2 bytes</td>
<td>15</td>
<td>Y velocity (int16, scaled by 10)</td>
</tr>
<tr>
<td>Health</td>
<td>2 bytes</td>
<td>17</td>
<td>Current health points</td>
</tr>
<tr>
<td>Flags</td>
<td>2 bytes</td>
<td>19</td>
<td>Entity state flags bitfield</td>
</tr>
<tr>
<td>Last Ack Seq</td>
<td>4 bytes</td>
<td>21</td>
<td>Last processed input sequence (for lag compensation, 0 for non-player entities)</td>
</tr>
</tbody>
</table>
<p><strong>Entity Type Codes</strong>:
- <code>0x01</code>: PLAYER
- <code>0x02</code>: ENEMY_BASIC
- <code>0x03</code>: ENEMY_ELITE
- <code>0x04</code>: ENEMY_BOSS
- <code>0x05</code>: PROJECTILE_PLAYER
- <code>0x06</code>: PROJECTILE_ENEMY
- <code>0x07</code>: POWERUP_WEAPON
- <code>0x08</code>: POWERUP_SHIELD
- <code>0x09</code>: POWERUP_SCORE
- <code>0x0A</code>: ENEMY_FAST
- <code>0x0B</code>: ENEMY_TANK
- <code>0x0C</code>: POWERUP_HEALTH
- <code>0x0D</code>: POWERUP_SPEED</p>
<p><strong>Entity State Flags</strong>:
- Bit 0: INVULNERABLE
- Bit 1: CHARGING
- Bit 2: DAMAGED (visual feedback)
- Bits 3-15: Reserved</p>
<p><strong>Total Size</strong>: 6 + (25  Entity Count) bytes</p>
<p><strong>Maximum Entities</strong>: With 1387 byte payload limit: (1387 - 6) / 25 = 55 entities per snapshot</p>
<p><strong>Entity Priority</strong>: When the number of entities exceeds the maximum, servers MUST prioritize entities in the following order:
1. <strong>PLAYER</strong> entities (highest priority) - MUST always be included
2. <strong>PROJECTILE_PLAYER</strong> and <strong>PROJECTILE_ENEMY</strong> entities (high priority) - SHOULD be included for accurate gameplay
3. <strong>ENEMY_</strong><em> entities (medium priority) - SHOULD be included
4. </em><em>WALL</em>* entities (lowest priority) - MAY be excluded as they scroll predictably</p>
<p><strong>Rationale</strong>: Wall entities scroll at a constant speed and are spawned via SERVER_ENTITY_SPAWN. Clients can predict their positions locally, making them unnecessary in state snapshots. This optimization ensures that critical gameplay entities (players, projectiles, enemies) are always synchronized.</p>
<p><strong>Frequency</strong>: Servers SHOULD send snapshots at 20-30 Hz to conserve bandwidth.</p>
<h3 id="55-entity-event-payloads">5.5 Entity Event Payloads</h3>
<h4 id="551-server_entity_spawn-0xb0">5.5.1 SERVER_ENTITY_SPAWN (0xB0)</h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a>    0                   1                   2                   3
<a id="__codelineno-30-2" name="__codelineno-30-2" href="#__codelineno-30-2"></a>    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
<a id="__codelineno-30-3" name="__codelineno-30-3" href="#__codelineno-30-3"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-30-4" name="__codelineno-30-4" href="#__codelineno-30-4"></a>   |                          Entity ID                            |
<a id="__codelineno-30-5" name="__codelineno-30-5" href="#__codelineno-30-5"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-30-6" name="__codelineno-30-6" href="#__codelineno-30-6"></a>   | Entity Type   |              Spawn X (float)                  |
<a id="__codelineno-30-7" name="__codelineno-30-7" href="#__codelineno-30-7"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-30-8" name="__codelineno-30-8" href="#__codelineno-30-8"></a>   |  Spawn X      |              Spawn Y (float)                  |
<a id="__codelineno-30-9" name="__codelineno-30-9" href="#__codelineno-30-9"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-30-10" name="__codelineno-30-10" href="#__codelineno-30-10"></a>   |  Spawn Y      |   Subtype     |            Health             |
<a id="__codelineno-30-11" name="__codelineno-30-11" href="#__codelineno-30-11"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</code></pre></div>
<table>
<thead>
<tr>
<th>Field</th>
<th>Size</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Entity ID</td>
<td>4 bytes</td>
<td>Unique entity identifier</td>
</tr>
<tr>
<td>Entity Type</td>
<td>1 byte</td>
<td>Entity type code (see 5.4.1)</td>
</tr>
<tr>
<td>Spawn X</td>
<td>4 bytes</td>
<td>X spawn position (IEEE 754 float)</td>
</tr>
<tr>
<td>Spawn Y</td>
<td>4 bytes</td>
<td>Y spawn position (IEEE 754 float)</td>
</tr>
<tr>
<td>Subtype</td>
<td>1 byte</td>
<td>Entity subtype (0=Basic, 1=Fast, 2=Tank, 3=Boss)</td>
</tr>
<tr>
<td>Health</td>
<td>2 bytes</td>
<td>Initial health points</td>
</tr>
</tbody>
</table>
<p><strong>Enemy Subtype Codes</strong>:
- <code>0x00</code>: BASIC - Standard enemy
- <code>0x01</code>: FAST - Fast-moving enemy
- <code>0x02</code>: TANK - High-health enemy
- <code>0x03</code>: BOSS - Boss enemy</p>
<p><strong>Player Entity Subtype Encoding</strong>:</p>
<p>For PLAYER entities, the subtype byte encodes both player_id and skin_id:
- High 4 bits (bits 4-7): <code>player_id &amp; 0x0F</code> (player identification)
- Low 4 bits (bits 0-3): <code>skin_id &amp; 0x0F</code> (skin selection, 0-14)</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a>Subtype byte: [player_id:4][skin_id:4]
<a id="__codelineno-31-2" name="__codelineno-31-2" href="#__codelineno-31-2"></a>Example: Player 2 with skin 7  subtype = (2 &lt;&lt; 4) | 7 = 0x27
</code></pre></div>
<p>This allows clients to:
1. Identify which entity is the local player (by matching player_id)
2. Select the correct ship sprite (by extracting skin_id)</p>
<p><strong>Total Size</strong>: 16 bytes</p>
<h4 id="552-server_entity_destroy-0xb1">5.5.2 SERVER_ENTITY_DESTROY (0xB1)</h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a>    0                   1                   2                   3
<a id="__codelineno-32-2" name="__codelineno-32-2" href="#__codelineno-32-2"></a>    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
<a id="__codelineno-32-3" name="__codelineno-32-3" href="#__codelineno-32-3"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-32-4" name="__codelineno-32-4" href="#__codelineno-32-4"></a>   |                          Entity ID                            |
<a id="__codelineno-32-5" name="__codelineno-32-5" href="#__codelineno-32-5"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-32-6" name="__codelineno-32-6" href="#__codelineno-32-6"></a>   |    Reason     |            Position X (float)                 |
<a id="__codelineno-32-7" name="__codelineno-32-7" href="#__codelineno-32-7"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-32-8" name="__codelineno-32-8" href="#__codelineno-32-8"></a>   | Position X    |            Position Y (float)                 |
<a id="__codelineno-32-9" name="__codelineno-32-9" href="#__codelineno-32-9"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-32-10" name="__codelineno-32-10" href="#__codelineno-32-10"></a>   | Position Y    |
<a id="__codelineno-32-11" name="__codelineno-32-11" href="#__codelineno-32-11"></a>   +-+-+-+-+-+-+-+-+
</code></pre></div>
<table>
<thead>
<tr>
<th>Field</th>
<th>Size</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Entity ID</td>
<td>4 bytes</td>
<td>Entity identifier</td>
</tr>
<tr>
<td>Reason</td>
<td>1 byte</td>
<td>Destruction reason code</td>
</tr>
<tr>
<td>Position X</td>
<td>4 bytes</td>
<td>Final X position for effects (float)</td>
</tr>
<tr>
<td>Position Y</td>
<td>4 bytes</td>
<td>Final Y position for effects (float)</td>
</tr>
</tbody>
</table>
<p><strong>Reason Codes</strong>:
- <code>0x01</code>: KILLED - Destroyed by damage
- <code>0x02</code>: OUT_OF_BOUNDS - Left playable area
- <code>0x03</code>: COLLECTED - Power-up collected by player
- <code>0x04</code>: TIMEOUT - Timed entity expired</p>
<p><strong>Total Size</strong>: 13 bytes</p>
<h4 id="553-server_projectile_spawn-0xb3">5.5.3 SERVER_PROJECTILE_SPAWN (0xB3)</h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a>    0                   1                   2                   3
<a id="__codelineno-33-2" name="__codelineno-33-2" href="#__codelineno-33-2"></a>    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
<a id="__codelineno-33-3" name="__codelineno-33-3" href="#__codelineno-33-3"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-33-4" name="__codelineno-33-4" href="#__codelineno-33-4"></a>   |                        Projectile ID                          |
<a id="__codelineno-33-5" name="__codelineno-33-5" href="#__codelineno-33-5"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-33-6" name="__codelineno-33-6" href="#__codelineno-33-6"></a>   |                          Owner ID                             |
<a id="__codelineno-33-7" name="__codelineno-33-7" href="#__codelineno-33-7"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-33-8" name="__codelineno-33-8" href="#__codelineno-33-8"></a>   |Projectile Type|            Spawn X (float)                    |
<a id="__codelineno-33-9" name="__codelineno-33-9" href="#__codelineno-33-9"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-33-10" name="__codelineno-33-10" href="#__codelineno-33-10"></a>   |  Spawn X      |            Spawn Y (float)                    |
<a id="__codelineno-33-11" name="__codelineno-33-11" href="#__codelineno-33-11"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-33-12" name="__codelineno-33-12" href="#__codelineno-33-12"></a>   |  Spawn Y      |   Velocity X (int16)      |  Velocity Y       |
<a id="__codelineno-33-13" name="__codelineno-33-13" href="#__codelineno-33-13"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-33-14" name="__codelineno-33-14" href="#__codelineno-33-14"></a>   |  Velocity Y   |
<a id="__codelineno-33-15" name="__codelineno-33-15" href="#__codelineno-33-15"></a>   +-+-+-+-+-+-+-+-+
</code></pre></div>
<table>
<thead>
<tr>
<th>Field</th>
<th>Size</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Projectile ID</td>
<td>4 bytes</td>
<td>Unique projectile identifier</td>
</tr>
<tr>
<td>Owner ID</td>
<td>4 bytes</td>
<td>Entity that fired the projectile</td>
</tr>
<tr>
<td>Projectile Type</td>
<td>1 byte</td>
<td>Projectile type code</td>
</tr>
<tr>
<td>Spawn X</td>
<td>4 bytes</td>
<td>X spawn position (IEEE 754 float)</td>
</tr>
<tr>
<td>Spawn Y</td>
<td>4 bytes</td>
<td>Y spawn position (IEEE 754 float)</td>
</tr>
<tr>
<td>Velocity X</td>
<td>2 bytes</td>
<td>X velocity (int16, scaled by 100)</td>
</tr>
<tr>
<td>Velocity Y</td>
<td>2 bytes</td>
<td>Y velocity (int16, scaled by 100)</td>
</tr>
</tbody>
</table>
<p><strong>Projectile Type Codes</strong>:
- <code>0x01</code>: BULLET - Standard projectile
- <code>0x02</code>: MISSILE - Homing missile
- <code>0x03</code>: LASER - Laser beam
- <code>0x04</code>: CHARGE_SHOT - Charged weapon shot</p>
<p><strong>Total Size</strong>: 21 bytes</p>
<p><strong>Rationale</strong>: This packet enables instant client-side visual feedback for shooting without waiting for the next snapshot.</p>
<h3 id="56-game-mechanics-payloads">5.6 Game Mechanics Payloads</h3>
<h4 id="561-server_powerup_collected-0xc0">5.6.1 SERVER_POWERUP_COLLECTED (0xC0)</h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a>    0                   1                   2                   3
<a id="__codelineno-34-2" name="__codelineno-34-2" href="#__codelineno-34-2"></a>    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
<a id="__codelineno-34-3" name="__codelineno-34-3" href="#__codelineno-34-3"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-34-4" name="__codelineno-34-4" href="#__codelineno-34-4"></a>   |                          Player ID                            |
<a id="__codelineno-34-5" name="__codelineno-34-5" href="#__codelineno-34-5"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-34-6" name="__codelineno-34-6" href="#__codelineno-34-6"></a>   | Powerup Type  |New Weapon Lvl |
<a id="__codelineno-34-7" name="__codelineno-34-7" href="#__codelineno-34-7"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</code></pre></div>
<table>
<thead>
<tr>
<th>Field</th>
<th>Size</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Player ID</td>
<td>4 bytes</td>
<td>Player who collected the power-up</td>
</tr>
<tr>
<td>Powerup Type</td>
<td>1 byte</td>
<td>Power-up type code</td>
</tr>
<tr>
<td>New Weapon Level</td>
<td>1 byte</td>
<td>Updated weapon level (0-255)</td>
</tr>
</tbody>
</table>
<p><strong>Powerup Type Codes</strong>:
- <code>0x01</code>: WEAPON_UPGRADE - Weapon level increase
- <code>0x02</code>: SHIELD - Shield/invulnerability
- <code>0x03</code>: SPEED - Movement speed boost
- <code>0x04</code>: SCORE - Score bonus
- <code>0x05</code>: HEALTH - Health restoration (+20 HP)</p>
<p><strong>Total Size</strong>: 6 bytes</p>
<h4 id="562-server_score_update-0xc1">5.6.2 SERVER_SCORE_UPDATE (0xC1)</h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-35-1" name="__codelineno-35-1" href="#__codelineno-35-1"></a>    0                   1                   2                   3
<a id="__codelineno-35-2" name="__codelineno-35-2" href="#__codelineno-35-2"></a>    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
<a id="__codelineno-35-3" name="__codelineno-35-3" href="#__codelineno-35-3"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-35-4" name="__codelineno-35-4" href="#__codelineno-35-4"></a>   |                          Player ID                            |
<a id="__codelineno-35-5" name="__codelineno-35-5" href="#__codelineno-35-5"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-35-6" name="__codelineno-35-6" href="#__codelineno-35-6"></a>   |                         Score Delta                           |
<a id="__codelineno-35-7" name="__codelineno-35-7" href="#__codelineno-35-7"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-35-8" name="__codelineno-35-8" href="#__codelineno-35-8"></a>   |                       New Total Score                         |
<a id="__codelineno-35-9" name="__codelineno-35-9" href="#__codelineno-35-9"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-35-10" name="__codelineno-35-10" href="#__codelineno-35-10"></a>   |Combo Multiplier|
<a id="__codelineno-35-11" name="__codelineno-35-11" href="#__codelineno-35-11"></a>   +-+-+-+-+-+-+-+-+
</code></pre></div>
<table>
<thead>
<tr>
<th>Field</th>
<th>Size</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Player ID</td>
<td>4 bytes</td>
<td>Player identifier</td>
</tr>
<tr>
<td>Score Delta</td>
<td>4 bytes</td>
<td>Points gained (signed int32)</td>
</tr>
<tr>
<td>New Total Score</td>
<td>4 bytes</td>
<td>Updated total score</td>
</tr>
<tr>
<td>Combo Multiplier</td>
<td>1 byte</td>
<td>Current combo multiplier (1-255)</td>
</tr>
</tbody>
</table>
<p><strong>Total Size</strong>: 13 bytes</p>
<h4 id="563-server_wave_start-0xc2">5.6.3 SERVER_WAVE_START (0xC2)</h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-36-1" name="__codelineno-36-1" href="#__codelineno-36-1"></a>    0                   1                   2                   3
<a id="__codelineno-36-2" name="__codelineno-36-2" href="#__codelineno-36-2"></a>    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
<a id="__codelineno-36-3" name="__codelineno-36-3" href="#__codelineno-36-3"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-36-4" name="__codelineno-36-4" href="#__codelineno-36-4"></a>   |                         Wave Number                           |
<a id="__codelineno-36-5" name="__codelineno-36-5" href="#__codelineno-36-5"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-36-6" name="__codelineno-36-6" href="#__codelineno-36-6"></a>   |         Total Waves           |      Scroll Distance (float)  |
<a id="__codelineno-36-7" name="__codelineno-36-7" href="#__codelineno-36-7"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-36-8" name="__codelineno-36-8" href="#__codelineno-36-8"></a>   | Scroll Distance               |      Expected Enemies         |
<a id="__codelineno-36-9" name="__codelineno-36-9" href="#__codelineno-36-9"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-36-10" name="__codelineno-36-10" href="#__codelineno-36-10"></a>   |                                                               |
<a id="__codelineno-36-11" name="__codelineno-36-11" href="#__codelineno-36-11"></a>   +                    Wave Name (32 bytes)                       +
<a id="__codelineno-36-12" name="__codelineno-36-12" href="#__codelineno-36-12"></a>   |                             ...                               |
<a id="__codelineno-36-13" name="__codelineno-36-13" href="#__codelineno-36-13"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</code></pre></div>
<table>
<thead>
<tr>
<th>Field</th>
<th>Size</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Wave Number</td>
<td>4 bytes</td>
<td>Current wave number (from JSON config)</td>
</tr>
<tr>
<td>Total Waves</td>
<td>2 bytes</td>
<td>Total number of waves in configuration</td>
</tr>
<tr>
<td>Scroll Distance</td>
<td>4 bytes</td>
<td>Scroll distance at which wave triggered (float)</td>
</tr>
<tr>
<td>Expected Enemies</td>
<td>2 bytes</td>
<td>Number of enemies that will spawn this wave</td>
</tr>
<tr>
<td>Wave Name</td>
<td>32 bytes</td>
<td>Optional wave name/description (UTF-8)</td>
</tr>
</tbody>
</table>
<p><strong>Total Size</strong>: 44 bytes</p>
<p><strong>Rationale</strong>: This packet notifies clients when a new wave begins, allowing them to display wave progress UI and prepare for incoming enemies. The scroll distance enables deterministic wave triggering validation.</p>
<h4 id="564-server_wave_complete-0xc3">5.6.4 SERVER_WAVE_COMPLETE (0xC3)</h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-37-1" name="__codelineno-37-1" href="#__codelineno-37-1"></a>    0                   1                   2                   3
<a id="__codelineno-37-2" name="__codelineno-37-2" href="#__codelineno-37-2"></a>    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
<a id="__codelineno-37-3" name="__codelineno-37-3" href="#__codelineno-37-3"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-37-4" name="__codelineno-37-4" href="#__codelineno-37-4"></a>   |                         Wave Number                           |
<a id="__codelineno-37-5" name="__codelineno-37-5" href="#__codelineno-37-5"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-37-6" name="__codelineno-37-6" href="#__codelineno-37-6"></a>   |                      Completion Time                          |
<a id="__codelineno-37-7" name="__codelineno-37-7" href="#__codelineno-37-7"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-37-8" name="__codelineno-37-8" href="#__codelineno-37-8"></a>   |       Enemies Killed          |         Bonus Points          |
<a id="__codelineno-37-9" name="__codelineno-37-9" href="#__codelineno-37-9"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-37-10" name="__codelineno-37-10" href="#__codelineno-37-10"></a>   |All Waves Done |
<a id="__codelineno-37-11" name="__codelineno-37-11" href="#__codelineno-37-11"></a>   +-+-+-+-+-+-+-+-+
</code></pre></div>
<table>
<thead>
<tr>
<th>Field</th>
<th>Size</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Wave Number</td>
<td>4 bytes</td>
<td>Completed wave number</td>
</tr>
<tr>
<td>Completion Time</td>
<td>4 bytes</td>
<td>Time taken to complete wave (milliseconds)</td>
</tr>
<tr>
<td>Enemies Killed</td>
<td>2 bytes</td>
<td>Number of enemies destroyed in this wave</td>
</tr>
<tr>
<td>Bonus Points</td>
<td>2 bytes</td>
<td>Bonus points awarded for wave completion</td>
</tr>
<tr>
<td>All Waves Complete</td>
<td>1 byte</td>
<td>1 if this was the final wave, 0 otherwise</td>
</tr>
</tbody>
</table>
<p><strong>Total Size</strong>: 13 bytes</p>
<p><strong>Rationale</strong>: Notifies clients of wave completion, allowing them to display completion statistics, award bonus points, and potentially trigger victory conditions if all waves are complete.</p>
<h4 id="565-server_player_level_up-0xc4">5.6.5 SERVER_PLAYER_LEVEL_UP (0xC4)</h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-38-1" name="__codelineno-38-1" href="#__codelineno-38-1"></a>    0                   1                   2                   3
<a id="__codelineno-38-2" name="__codelineno-38-2" href="#__codelineno-38-2"></a>    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
<a id="__codelineno-38-3" name="__codelineno-38-3" href="#__codelineno-38-3"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-38-4" name="__codelineno-38-4" href="#__codelineno-38-4"></a>   |                          Player ID                            |
<a id="__codelineno-38-5" name="__codelineno-38-5" href="#__codelineno-38-5"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-38-6" name="__codelineno-38-6" href="#__codelineno-38-6"></a>   |                          Entity ID                            |
<a id="__codelineno-38-7" name="__codelineno-38-7" href="#__codelineno-38-7"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-38-8" name="__codelineno-38-8" href="#__codelineno-38-8"></a>   | New Level     |New Ship Type  |New Weapon Type| New Skin ID   |
<a id="__codelineno-38-9" name="__codelineno-38-9" href="#__codelineno-38-9"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-38-10" name="__codelineno-38-10" href="#__codelineno-38-10"></a>   |                        Current Score                          |
<a id="__codelineno-38-11" name="__codelineno-38-11" href="#__codelineno-38-11"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</code></pre></div>
<table>
<thead>
<tr>
<th>Field</th>
<th>Size</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Player ID</td>
<td>4 bytes</td>
<td>Network player identifier</td>
</tr>
<tr>
<td>Entity ID</td>
<td>4 bytes</td>
<td>Server-side entity identifier</td>
</tr>
<tr>
<td>New Level</td>
<td>1 byte</td>
<td>New player level (1-5)</td>
</tr>
<tr>
<td>New Ship Type</td>
<td>1 byte</td>
<td>New ship type (0=SCOUT, 1=FIGHTER, 2=CRUISER, 3=BOMBER, 4=CARRIER)</td>
</tr>
<tr>
<td>New Weapon Type</td>
<td>1 byte</td>
<td>New weapon type (0=BASIC, 1=SPREAD, 2=BURST, 3=LASER, 4=CHARGE)</td>
</tr>
<tr>
<td>New Skin ID</td>
<td>1 byte</td>
<td>Computed skin_id (color * 5 + ship_type)</td>
</tr>
<tr>
<td>Current Score</td>
<td>4 bytes</td>
<td>Player's current score after level up</td>
</tr>
</tbody>
</table>
<p><strong>Total Size</strong>: 16 bytes</p>
<p><strong>Level Thresholds</strong>:
| Level | Score Required | Ship Type | Weapon Type |
|-------|----------------|-----------|-------------|
| 1     | 0              | SCOUT     | BASIC       |
| 2     | 2000           | FIGHTER   | SPREAD      |
| 3     | 5000           | CRUISER   | BURST       |
| 4     | 10000          | BOMBER    | LASER       |
| 5     | 20000          | CARRIER   | CHARGE      |</p>
<p><strong>Rationale</strong>: Notifies all clients when a player reaches a new level based on their score. The client uses this information to update the player's sprite, hitbox dimensions, and weapon type. The skin_id allows clients to select the correct sprite variant based on the player's chosen color and new ship type.</p>
<h4 id="566-server_player_respawn-0xc5">5.6.6 SERVER_PLAYER_RESPAWN (0xC5)</h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-39-1" name="__codelineno-39-1" href="#__codelineno-39-1"></a>    0                   1                   2                   3
<a id="__codelineno-39-2" name="__codelineno-39-2" href="#__codelineno-39-2"></a>    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
<a id="__codelineno-39-3" name="__codelineno-39-3" href="#__codelineno-39-3"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-39-4" name="__codelineno-39-4" href="#__codelineno-39-4"></a>   |                          Player ID                            |
<a id="__codelineno-39-5" name="__codelineno-39-5" href="#__codelineno-39-5"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-39-6" name="__codelineno-39-6" href="#__codelineno-39-6"></a>   |                      Respawn X (float)                        |
<a id="__codelineno-39-7" name="__codelineno-39-7" href="#__codelineno-39-7"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-39-8" name="__codelineno-39-8" href="#__codelineno-39-8"></a>   |                      Respawn Y (float)                        |
<a id="__codelineno-39-9" name="__codelineno-39-9" href="#__codelineno-39-9"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-39-10" name="__codelineno-39-10" href="#__codelineno-39-10"></a>   |  Invuln Duration (ms)         |Lives Remaining|
<a id="__codelineno-39-11" name="__codelineno-39-11" href="#__codelineno-39-11"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</code></pre></div>
<table>
<thead>
<tr>
<th>Field</th>
<th>Size</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Player ID</td>
<td>4 bytes</td>
<td>Player identifier</td>
</tr>
<tr>
<td>Respawn X</td>
<td>4 bytes</td>
<td>X respawn position (float)</td>
</tr>
<tr>
<td>Respawn Y</td>
<td>4 bytes</td>
<td>Y respawn position (float)</td>
</tr>
<tr>
<td>Invulnerability Duration</td>
<td>2 bytes</td>
<td>Invulnerability time (milliseconds)</td>
</tr>
<tr>
<td>Lives Remaining</td>
<td>1 byte</td>
<td>Remaining lives (0 = game over)</td>
</tr>
</tbody>
</table>
<p><strong>Total Size</strong>: 15 bytes</p>
<h4 id="567-server_game_over-0xc6">5.6.7 SERVER_GAME_OVER (0xC6)</h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-40-1" name="__codelineno-40-1" href="#__codelineno-40-1"></a>    0                   1                   2                   3
<a id="__codelineno-40-2" name="__codelineno-40-2" href="#__codelineno-40-2"></a>    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
<a id="__codelineno-40-3" name="__codelineno-40-3" href="#__codelineno-40-3"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-40-4" name="__codelineno-40-4" href="#__codelineno-40-4"></a>   |    Result     |                                               |
<a id="__codelineno-40-5" name="__codelineno-40-5" href="#__codelineno-40-5"></a>   +-+-+-+-+-+-+-+-+                                               +
<a id="__codelineno-40-6" name="__codelineno-40-6" href="#__codelineno-40-6"></a>   |                  Final Score Entry (12 bytes each)            |
<a id="__codelineno-40-7" name="__codelineno-40-7" href="#__codelineno-40-7"></a>   |                             ...                               |
<a id="__codelineno-40-8" name="__codelineno-40-8" href="#__codelineno-40-8"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-40-9" name="__codelineno-40-9" href="#__codelineno-40-9"></a>   |                      Total Time (seconds)                     |
<a id="__codelineno-40-10" name="__codelineno-40-10" href="#__codelineno-40-10"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-40-11" name="__codelineno-40-11" href="#__codelineno-40-11"></a>   |                        Enemies Killed                         |
<a id="__codelineno-40-12" name="__codelineno-40-12" href="#__codelineno-40-12"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</code></pre></div>
<table>
<thead>
<tr>
<th>Field</th>
<th>Size</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Result</td>
<td>1 byte</td>
<td>Game result code</td>
</tr>
<tr>
<td>Score Entries</td>
<td>Variable</td>
<td>Array of player scores (max 4)</td>
</tr>
<tr>
<td>Total Time</td>
<td>4 bytes</td>
<td>Total game time in seconds</td>
</tr>
<tr>
<td>Enemies Killed</td>
<td>4 bytes</td>
<td>Total enemies killed by team</td>
</tr>
</tbody>
</table>
<p><strong>Result Codes</strong>:
- <code>0x01</code>: VICTORY - Players won
- <code>0x02</code>: DEFEAT - All players died
- <code>0x03</code>: TIMEOUT - Time limit reached</p>
<p><strong>Score Entry Format (12 bytes each)</strong>:</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Size</th>
<th>Offset</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Player ID</td>
<td>4 bytes</td>
<td>0</td>
<td>Player identifier</td>
</tr>
<tr>
<td>Final Score</td>
<td>4 bytes</td>
<td>4</td>
<td>Player's final score</td>
</tr>
<tr>
<td>Deaths</td>
<td>2 bytes</td>
<td>8</td>
<td>Number of deaths</td>
</tr>
<tr>
<td>Kills</td>
<td>2 bytes</td>
<td>10</td>
<td>Enemies killed</td>
</tr>
</tbody>
</table>
<p><strong>Total Size</strong>: 9 + (12  Player Count) bytes</p>
<h4 id="568-server_leaderboard-0xc7">5.6.8 SERVER_LEADERBOARD (0xC7)</h4>
<p>Sent before game over to provide complete leaderboard with all player scores sorted by rank.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-41-1" name="__codelineno-41-1" href="#__codelineno-41-1"></a>    0                   1                   2                   3
<a id="__codelineno-41-2" name="__codelineno-41-2" href="#__codelineno-41-2"></a>    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
<a id="__codelineno-41-3" name="__codelineno-41-3" href="#__codelineno-41-3"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-41-4" name="__codelineno-41-4" href="#__codelineno-41-4"></a>   | Entry Count   |   Is Final    |                               |
<a id="__codelineno-41-5" name="__codelineno-41-5" href="#__codelineno-41-5"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+                               +
<a id="__codelineno-41-6" name="__codelineno-41-6" href="#__codelineno-41-6"></a>   |                  Leaderboard Entry (48 bytes each)            |
<a id="__codelineno-41-7" name="__codelineno-41-7" href="#__codelineno-41-7"></a>   |                             ...                               |
<a id="__codelineno-41-8" name="__codelineno-41-8" href="#__codelineno-41-8"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</code></pre></div>
<table>
<thead>
<tr>
<th>Field</th>
<th>Size</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Entry Count</td>
<td>1 byte</td>
<td>Number of leaderboard entries (max 255)</td>
</tr>
<tr>
<td>Is Final</td>
<td>1 byte</td>
<td>1 if game is over, 0 for in-game update</td>
</tr>
<tr>
<td>Entries</td>
<td>Variable</td>
<td>Array of LeaderboardEntry structures</td>
</tr>
</tbody>
</table>
<p><strong>Leaderboard Entry Format (48 bytes each)</strong>:</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Size</th>
<th>Offset</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Player ID</td>
<td>4 bytes</td>
<td>0</td>
<td>Player identifier (network order)</td>
</tr>
<tr>
<td>Player Name</td>
<td>32 bytes</td>
<td>4</td>
<td>Player name (null-terminated)</td>
</tr>
<tr>
<td>Score</td>
<td>4 bytes</td>
<td>36</td>
<td>Player score (network order)</td>
</tr>
<tr>
<td>Kills</td>
<td>2 bytes</td>
<td>40</td>
<td>Number of kills</td>
</tr>
<tr>
<td>Deaths</td>
<td>2 bytes</td>
<td>42</td>
<td>Number of deaths</td>
</tr>
<tr>
<td>Rank</td>
<td>1 byte</td>
<td>44</td>
<td>Player rank (1 = first place)</td>
</tr>
<tr>
<td>Padding</td>
<td>3 bytes</td>
<td>45</td>
<td>Reserved for alignment</td>
</tr>
</tbody>
</table>
<p><strong>Total Size</strong>: 2 + (48  Entry Count) bytes</p>
<hr />
<h3 id="57-admin-system-payloads">5.7 Admin System Payloads</h3>
<h4 id="571-client_admin_auth-0x30">5.7.1 CLIENT_ADMIN_AUTH (0x30)</h4>
<p>Admin authentication request with hashed password.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-42-1" name="__codelineno-42-1" href="#__codelineno-42-1"></a>    0                   1                   2                   3
<a id="__codelineno-42-2" name="__codelineno-42-2" href="#__codelineno-42-2"></a>    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
<a id="__codelineno-42-3" name="__codelineno-42-3" href="#__codelineno-42-3"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-42-4" name="__codelineno-42-4" href="#__codelineno-42-4"></a>   |                          Client ID                            |
<a id="__codelineno-42-5" name="__codelineno-42-5" href="#__codelineno-42-5"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-42-6" name="__codelineno-42-6" href="#__codelineno-42-6"></a>   |                                                               |
<a id="__codelineno-42-7" name="__codelineno-42-7" href="#__codelineno-42-7"></a>   +                     Password Hash (64 bytes)                 +
<a id="__codelineno-42-8" name="__codelineno-42-8" href="#__codelineno-42-8"></a>   |                             ...                               |
<a id="__codelineno-42-9" name="__codelineno-42-9" href="#__codelineno-42-9"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-42-10" name="__codelineno-42-10" href="#__codelineno-42-10"></a>   |                                                               |
<a id="__codelineno-42-11" name="__codelineno-42-11" href="#__codelineno-42-11"></a>   +                       Username (32 bytes)                    +
<a id="__codelineno-42-12" name="__codelineno-42-12" href="#__codelineno-42-12"></a>   |                             ...                               |
<a id="__codelineno-42-13" name="__codelineno-42-13" href="#__codelineno-42-13"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</code></pre></div>
<table>
<thead>
<tr>
<th>Field</th>
<th>Size</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Client ID</td>
<td>4 bytes</td>
<td>Client identifier</td>
</tr>
<tr>
<td>Password Hash</td>
<td>64 bytes</td>
<td>Hexadecimal string of hashed password</td>
</tr>
<tr>
<td>Username</td>
<td>32 bytes</td>
<td>Admin username (null-terminated)</td>
</tr>
</tbody>
</table>
<p><strong>Total Size</strong>: 100 bytes</p>
<h4 id="572-client_admin_command-0x31">5.7.2 CLIENT_ADMIN_COMMAND (0x31)</h4>
<p>Execute an admin command on the server.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-43-1" name="__codelineno-43-1" href="#__codelineno-43-1"></a>    0                   1                   2                   3
<a id="__codelineno-43-2" name="__codelineno-43-2" href="#__codelineno-43-2"></a>    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
<a id="__codelineno-43-3" name="__codelineno-43-3" href="#__codelineno-43-3"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-43-4" name="__codelineno-43-4" href="#__codelineno-43-4"></a>   |                           Admin ID                            |
<a id="__codelineno-43-5" name="__codelineno-43-5" href="#__codelineno-43-5"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-43-6" name="__codelineno-43-6" href="#__codelineno-43-6"></a>   |                                                               |
<a id="__codelineno-43-7" name="__codelineno-43-7" href="#__codelineno-43-7"></a>   +                       Command (128 bytes)                    +
<a id="__codelineno-43-8" name="__codelineno-43-8" href="#__codelineno-43-8"></a>   |                             ...                               |
<a id="__codelineno-43-9" name="__codelineno-43-9" href="#__codelineno-43-9"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</code></pre></div>
<table>
<thead>
<tr>
<th>Field</th>
<th>Size</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Admin ID</td>
<td>4 bytes</td>
<td>Authenticated admin ID</td>
</tr>
<tr>
<td>Command</td>
<td>128 bytes</td>
<td>Command string (null-terminated)</td>
</tr>
</tbody>
</table>
<p><strong>Total Size</strong>: 132 bytes</p>
<p><strong>Available Commands</strong>:</p>
<p><strong>Tier 1 - Basic Commands:</strong>
- <code>help</code> - Show available commands
- <code>list</code> - List connected players with IDs and session info
- <code>kick &lt;player_id&gt; [reason]</code> - Kick a player from the server
- <code>info</code> - Display server statistics (uptime, connections, sessions)</p>
<p><strong>Tier 2 - Game Control Commands:</strong>
- <code>pause</code> - Pause all active game sessions (freezes game logic)
- <code>resume</code> - Resume all paused game sessions
- <code>clearenemies [session_id]</code> - Clear enemies from all sessions or specific session</p>
<h4 id="573-server_admin_auth_result-0xf0">5.7.3 SERVER_ADMIN_AUTH_RESULT (0xF0)</h4>
<p>Result of admin authentication attempt.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-44-1" name="__codelineno-44-1" href="#__codelineno-44-1"></a>    0                   1                   2                   3
<a id="__codelineno-44-2" name="__codelineno-44-2" href="#__codelineno-44-2"></a>    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
<a id="__codelineno-44-3" name="__codelineno-44-3" href="#__codelineno-44-3"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-44-4" name="__codelineno-44-4" href="#__codelineno-44-4"></a>   |   Success     |                                               |
<a id="__codelineno-44-5" name="__codelineno-44-5" href="#__codelineno-44-5"></a>   +-+-+-+-+-+-+-+-+                                               +
<a id="__codelineno-44-6" name="__codelineno-44-6" href="#__codelineno-44-6"></a>   |                         Admin Level                           |
<a id="__codelineno-44-7" name="__codelineno-44-7" href="#__codelineno-44-7"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-44-8" name="__codelineno-44-8" href="#__codelineno-44-8"></a>   |                                                               |
<a id="__codelineno-44-9" name="__codelineno-44-9" href="#__codelineno-44-9"></a>   +                   Failure Reason (128 bytes)                 +
<a id="__codelineno-44-10" name="__codelineno-44-10" href="#__codelineno-44-10"></a>   |                             ...                               |
<a id="__codelineno-44-11" name="__codelineno-44-11" href="#__codelineno-44-11"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</code></pre></div>
<table>
<thead>
<tr>
<th>Field</th>
<th>Size</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Success</td>
<td>1 byte</td>
<td>1 = authenticated, 0 = failed</td>
</tr>
<tr>
<td>Admin Level</td>
<td>4 bytes</td>
<td>Admin privilege level (if success=1)</td>
</tr>
<tr>
<td>Failure Reason</td>
<td>128 bytes</td>
<td>Error message (if success=0)</td>
</tr>
</tbody>
</table>
<p><strong>Total Size</strong>: 133 bytes</p>
<h4 id="574-server_admin_command_result-0xf1">5.7.4 SERVER_ADMIN_COMMAND_RESULT (0xF1)</h4>
<p>Result of admin command execution.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-45-1" name="__codelineno-45-1" href="#__codelineno-45-1"></a>    0                   1                   2                   3
<a id="__codelineno-45-2" name="__codelineno-45-2" href="#__codelineno-45-2"></a>    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
<a id="__codelineno-45-3" name="__codelineno-45-3" href="#__codelineno-45-3"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-45-4" name="__codelineno-45-4" href="#__codelineno-45-4"></a>   |   Success     |                                               |
<a id="__codelineno-45-5" name="__codelineno-45-5" href="#__codelineno-45-5"></a>   +-+-+-+-+-+-+-+-+                                               +
<a id="__codelineno-45-6" name="__codelineno-45-6" href="#__codelineno-45-6"></a>   |                                                               |
<a id="__codelineno-45-7" name="__codelineno-45-7" href="#__codelineno-45-7"></a>   +                      Message (256 bytes)                     +
<a id="__codelineno-45-8" name="__codelineno-45-8" href="#__codelineno-45-8"></a>   |                             ...                               |
<a id="__codelineno-45-9" name="__codelineno-45-9" href="#__codelineno-45-9"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</code></pre></div>
<table>
<thead>
<tr>
<th>Field</th>
<th>Size</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Success</td>
<td>1 byte</td>
<td>1 = success, 0 = failed</td>
</tr>
<tr>
<td>Message</td>
<td>256 bytes</td>
<td>Result or error message (null-terminated)</td>
</tr>
</tbody>
</table>
<p><strong>Total Size</strong>: 257 bytes</p>
<h4 id="575-server_admin_notification-0xf2">5.7.5 SERVER_ADMIN_NOTIFICATION (0xF2)</h4>
<p>Server-wide notification broadcast from admin.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-46-1" name="__codelineno-46-1" href="#__codelineno-46-1"></a>    0                   1                   2                   3
<a id="__codelineno-46-2" name="__codelineno-46-2" href="#__codelineno-46-2"></a>    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
<a id="__codelineno-46-3" name="__codelineno-46-3" href="#__codelineno-46-3"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-46-4" name="__codelineno-46-4" href="#__codelineno-46-4"></a>   |                                                               |
<a id="__codelineno-46-5" name="__codelineno-46-5" href="#__codelineno-46-5"></a>   +                      Message (256 bytes)                     +
<a id="__codelineno-46-6" name="__codelineno-46-6" href="#__codelineno-46-6"></a>   |                             ...                               |
<a id="__codelineno-46-7" name="__codelineno-46-7" href="#__codelineno-46-7"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</code></pre></div>
<table>
<thead>
<tr>
<th>Field</th>
<th>Size</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Message</td>
<td>256 bytes</td>
<td>Notification message (null-terminated)</td>
</tr>
</tbody>
</table>
<p><strong>Total Size</strong>: 256 bytes</p>
<h4 id="576-server_kick_notification-0xf3">5.7.6 SERVER_KICK_NOTIFICATION (0xF3)</h4>
<p>Notification sent to a player who is being kicked.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-47-1" name="__codelineno-47-1" href="#__codelineno-47-1"></a>    0                   1                   2                   3
<a id="__codelineno-47-2" name="__codelineno-47-2" href="#__codelineno-47-2"></a>    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
<a id="__codelineno-47-3" name="__codelineno-47-3" href="#__codelineno-47-3"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
<a id="__codelineno-47-4" name="__codelineno-47-4" href="#__codelineno-47-4"></a>   |                                                               |
<a id="__codelineno-47-5" name="__codelineno-47-5" href="#__codelineno-47-5"></a>   +                       Reason (128 bytes)                     +
<a id="__codelineno-47-6" name="__codelineno-47-6" href="#__codelineno-47-6"></a>   |                             ...                               |
<a id="__codelineno-47-7" name="__codelineno-47-7" href="#__codelineno-47-7"></a>   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</code></pre></div>
<table>
<thead>
<tr>
<th>Field</th>
<th>Size</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Reason</td>
<td>128 bytes</td>
<td>Kick reason message (null-terminated)</td>
</tr>
</tbody>
</table>
<p><strong>Total Size</strong>: 128 bytes</p>
<hr />
<h2 id="6-communication-patterns">6. Communication Patterns</h2>
<h3 id="61-connection-establishment">6.1 Connection Establishment</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-48-1" name="__codelineno-48-1" href="#__codelineno-48-1"></a>Client                                Server
<a id="__codelineno-48-2" name="__codelineno-48-2" href="#__codelineno-48-2"></a>  |                                     |
<a id="__codelineno-48-3" name="__codelineno-48-3" href="#__codelineno-48-3"></a>  |------- CLIENT_CONNECT (0x01) -----&gt;|
<a id="__codelineno-48-4" name="__codelineno-48-4" href="#__codelineno-48-4"></a>  |                                     | (Validate version, capacity)
<a id="__codelineno-48-5" name="__codelineno-48-5" href="#__codelineno-48-5"></a>  |                                     |
<a id="__codelineno-48-6" name="__codelineno-48-6" href="#__codelineno-48-6"></a>  |&lt;------ SERVER_ACCEPT (0x81) -------|  (if accepted)
<a id="__codelineno-48-7" name="__codelineno-48-7" href="#__codelineno-48-7"></a>  |        or SERVER_REJECT (0x82)     |  (if rejected)
<a id="__codelineno-48-8" name="__codelineno-48-8" href="#__codelineno-48-8"></a>  |                                     |
</code></pre></div>
<p>Upon successful connection:
1. Client sends CLIENT_CONNECT with player name and version
2. Server validates the request and responds with SERVER_ACCEPT (assigning player ID) or SERVER_REJECT
3. Client enters lobby selection state</p>
<h3 id="62-lobby-and-matchmaking">6.2 Lobby and Matchmaking</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-49-1" name="__codelineno-49-1" href="#__codelineno-49-1"></a>Client                                Server
<a id="__codelineno-49-2" name="__codelineno-49-2" href="#__codelineno-49-2"></a>  |                                     |
<a id="__codelineno-49-3" name="__codelineno-49-3" href="#__codelineno-49-3"></a>  |---- CLIENT_JOIN_LOBBY (0x05) -----&gt;|
<a id="__codelineno-49-4" name="__codelineno-49-4" href="#__codelineno-49-4"></a>  |      (mode=SQUAD, diff=HARD)       |
<a id="__codelineno-49-5" name="__codelineno-49-5" href="#__codelineno-49-5"></a>  |                                     | (Find/create lobby)
<a id="__codelineno-49-6" name="__codelineno-49-6" href="#__codelineno-49-6"></a>  |                                     |
<a id="__codelineno-49-7" name="__codelineno-49-7" href="#__codelineno-49-7"></a>  |&lt;--- SERVER_LOBBY_STATE (0x87) -----|
<a id="__codelineno-49-8" name="__codelineno-49-8" href="#__codelineno-49-8"></a>  |         (1/4 players)               |
<a id="__codelineno-49-9" name="__codelineno-49-9" href="#__codelineno-49-9"></a>  |                                     |
<a id="__codelineno-49-10" name="__codelineno-49-10" href="#__codelineno-49-10"></a>  |         [Wait for more players...]  |
<a id="__codelineno-49-11" name="__codelineno-49-11" href="#__codelineno-49-11"></a>  |                                     |
<a id="__codelineno-49-12" name="__codelineno-49-12" href="#__codelineno-49-12"></a>  |&lt;--- SERVER_LOBBY_STATE (0x87) -----|
<a id="__codelineno-49-13" name="__codelineno-49-13" href="#__codelineno-49-13"></a>  |         (4/4 players)               |
<a id="__codelineno-49-14" name="__codelineno-49-14" href="#__codelineno-49-14"></a>  |                                     |
<a id="__codelineno-49-15" name="__codelineno-49-15" href="#__codelineno-49-15"></a>  |&lt;- SERVER_GAME_START_COUNTDOWN ----|
<a id="__codelineno-49-16" name="__codelineno-49-16" href="#__codelineno-49-16"></a>  |         (5 seconds)                 |
<a id="__codelineno-49-17" name="__codelineno-49-17" href="#__codelineno-49-17"></a>  |         ... (4) ... (3) ...         |
<a id="__codelineno-49-18" name="__codelineno-49-18" href="#__codelineno-49-18"></a>  |                                     |
<a id="__codelineno-49-19" name="__codelineno-49-19" href="#__codelineno-49-19"></a>  |&lt;--- SERVER_GAME_START (0x8A) ------|
<a id="__codelineno-49-20" name="__codelineno-49-20" href="#__codelineno-49-20"></a>  |                                     |
</code></pre></div>
<p>Matchmaking flow:
1. Client selects game mode and difficulty, sends CLIENT_JOIN_LOBBY
2. Server finds an existing compatible lobby or creates a new one
3. Server broadcasts SERVER_LOBBY_STATE to all players in the lobby whenever a player joins/leaves
4. When the lobby reaches the required player count, server initiates countdown
5. Server sends SERVER_GAME_START_COUNTDOWN every second (5, 4, 3, 2, 1)
6. If a player leaves during countdown, server sends SERVER_COUNTDOWN_CANCELLED
7. After countdown completes, server sends SERVER_GAME_START and transitions to gameplay</p>
<h3 id="63-gameplay-loop">6.3 Gameplay Loop</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-50-1" name="__codelineno-50-1" href="#__codelineno-50-1"></a>Client                                Server
<a id="__codelineno-50-2" name="__codelineno-50-2" href="#__codelineno-50-2"></a>  |                                     |
<a id="__codelineno-50-3" name="__codelineno-50-3" href="#__codelineno-50-3"></a>  |---- CLIENT_INPUT (0x10) ---------&gt;| (60 Hz)
<a id="__codelineno-50-4" name="__codelineno-50-4" href="#__codelineno-50-4"></a>  |---- CLIENT_INPUT (0x10) ---------&gt;|
<a id="__codelineno-50-5" name="__codelineno-50-5" href="#__codelineno-50-5"></a>  |---- CLIENT_INPUT (0x10) ---------&gt;|
<a id="__codelineno-50-6" name="__codelineno-50-6" href="#__codelineno-50-6"></a>  |                                     |
<a id="__codelineno-50-7" name="__codelineno-50-7" href="#__codelineno-50-7"></a>  |&lt;--- SERVER_SNAPSHOT (0xA0) --------|  (20-30 Hz)
<a id="__codelineno-50-8" name="__codelineno-50-8" href="#__codelineno-50-8"></a>  |                                     |
<a id="__codelineno-50-9" name="__codelineno-50-9" href="#__codelineno-50-9"></a>  |&lt;- SERVER_PROJECTILE_SPAWN (0xB3)---|  (event-driven)
<a id="__codelineno-50-10" name="__codelineno-50-10" href="#__codelineno-50-10"></a>  |&lt;- SERVER_ENTITY_DESTROY (0xB1) ----|  (event-driven)
<a id="__codelineno-50-11" name="__codelineno-50-11" href="#__codelineno-50-11"></a>  |&lt;- SERVER_SCORE_UPDATE (0xC1) ------|  (event-driven)
<a id="__codelineno-50-12" name="__codelineno-50-12" href="#__codelineno-50-12"></a>  |                                     |
</code></pre></div>
<p>Gameplay communication:
1. <strong>Client sends inputs at 60 Hz</strong>: CLIENT_INPUT packets with current input state
2. <strong>Server processes inputs</strong>: Server simulation runs at server tick rate (60 Hz)
3. <strong>Server sends snapshots at 20-30 Hz</strong>: Complete world state via SERVER_SNAPSHOT
4. <strong>Server sends critical events immediately</strong>: Spawns, destructions, scoring, etc.</p>
<p><strong>Client-side prediction</strong>: Clients MAY predict local player movement using CLIENT_INPUT and reconcile with SERVER_SNAPSHOT.</p>
<p><strong>Interpolation</strong>: Clients SHOULD interpolate entity positions between snapshots for smooth rendering.</p>
<h3 id="64-keepalive-and-latency-measurement">6.4 Keepalive and Latency Measurement</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-51-1" name="__codelineno-51-1" href="#__codelineno-51-1"></a>Client                                Server
<a id="__codelineno-51-2" name="__codelineno-51-2" href="#__codelineno-51-2"></a>  |                                     |
<a id="__codelineno-51-3" name="__codelineno-51-3" href="#__codelineno-51-3"></a>  |------ CLIENT_PING (0x04) ---------&gt;|  (every 1-2 seconds)
<a id="__codelineno-51-4" name="__codelineno-51-4" href="#__codelineno-51-4"></a>  |        (client_timestamp)           |
<a id="__codelineno-51-5" name="__codelineno-51-5" href="#__codelineno-51-5"></a>  |                                     |
<a id="__codelineno-51-6" name="__codelineno-51-6" href="#__codelineno-51-6"></a>  |&lt;----- SERVER_PONG (0x85) -----------|
<a id="__codelineno-51-7" name="__codelineno-51-7" href="#__codelineno-51-7"></a>  |   (echo client_timestamp + server_timestamp)
<a id="__codelineno-51-8" name="__codelineno-51-8" href="#__codelineno-51-8"></a>  |                                     |
</code></pre></div>
<p>Clients SHOULD send CLIENT_PING every 1-2 seconds to:
- Maintain connection (prevent server timeout)
- Measure round-trip time (RTT)
- Detect connection quality issues</p>
<p>RTT calculation: <code>RTT = current_time - client_timestamp</code> (from echoed value)</p>
<h3 id="65-disconnection">6.5 Disconnection</h3>
<p><strong>Graceful disconnection</strong>:
<div class="highlight"><pre><span></span><code><a id="__codelineno-52-1" name="__codelineno-52-1" href="#__codelineno-52-1"></a>Client                                Server
<a id="__codelineno-52-2" name="__codelineno-52-2" href="#__codelineno-52-2"></a>  |                                     |
<a id="__codelineno-52-3" name="__codelineno-52-3" href="#__codelineno-52-3"></a>  |--- CLIENT_DISCONNECT (0x02) ------&gt;|
<a id="__codelineno-52-4" name="__codelineno-52-4" href="#__codelineno-52-4"></a>  |                                     |
<a id="__codelineno-52-5" name="__codelineno-52-5" href="#__codelineno-52-5"></a>  |&lt;-- SERVER_PLAYER_LEFT (0x84) ------|  (broadcast to others)
<a id="__codelineno-52-6" name="__codelineno-52-6" href="#__codelineno-52-6"></a>  |                                     |
</code></pre></div></p>
<p><strong>Timeout disconnection</strong>:
- If server doesn't receive any packet from client for 10 seconds, server SHOULD disconnect the client
- Server broadcasts SERVER_PLAYER_LEFT to remaining players</p>
<hr />
<h2 id="7-error-handling">7. Error Handling</h2>
<h3 id="71-version-mismatch">7.1 Version Mismatch</h3>
<ul>
<li>Receivers MUST silently drop packets with unknown protocol versions</li>
<li>Servers SHOULD respond to CLIENT_CONNECT with version mismatch using SERVER_REJECT (reason code 0x02)</li>
</ul>
<h3 id="72-packet-size-violations">7.2 Packet Size Violations</h3>
<ul>
<li>Senders MUST NOT send packets exceeding 1400 bytes total size</li>
<li>Receivers MAY drop packets exceeding the maximum size</li>
<li>Implementations SHOULD log oversized packet attempts for debugging</li>
</ul>
<h3 id="73-invalid-payload-data">7.3 Invalid Payload Data</h3>
<ul>
<li>Receivers MUST validate all numeric fields for reasonable ranges</li>
<li>String fields MUST be checked for null-termination</li>
<li>Invalid packets SHOULD be silently dropped (do not crash)</li>
</ul>
<h3 id="74-sequence-number-handling">7.4 Sequence Number Handling</h3>
<ul>
<li>Receivers SHOULD track sequence numbers to detect packet loss</li>
<li>Out-of-order packets MAY be processed or dropped based on packet type</li>
<li>Duplicate packets (same sequence number) SHOULD be dropped</li>
</ul>
<h3 id="75-connection-timeout">7.5 Connection Timeout</h3>
<ul>
<li>Clients not sending packets for 10 seconds SHOULD be disconnected</li>
<li>Servers not responding for 10 seconds SHOULD trigger client reconnection attempt</li>
</ul>
<hr />
<h2 id="8-security-considerations">8. Security Considerations</h2>
<h3 id="81-denial-of-service">8.1 Denial of Service</h3>
<ul>
<li>Servers SHOULD implement rate limiting per source IP address</li>
<li>Servers SHOULD validate all packet sizes before processing</li>
<li>Servers SHOULD limit the number of concurrent connections per IP</li>
</ul>
<h3 id="82-data-validation">8.2 Data Validation</h3>
<ul>
<li>All numeric fields MUST be validated for reasonable ranges</li>
<li>String fields MUST be validated for proper encoding and length</li>
<li>Player names SHOULD be sanitized to prevent injection attacks</li>
</ul>
<h3 id="83-replay-attacks">8.3 Replay Attacks</h3>
<ul>
<li>Servers MAY use sequence numbers to detect and reject replayed packets</li>
<li>Servers SHOULD maintain a sliding window of recent sequence numbers</li>
</ul>
<h3 id="84-cheating-prevention">8.4 Cheating Prevention</h3>
<ul>
<li>Server is authoritative for all game state</li>
<li>Client predictions are reconciled against server state</li>
<li>Servers SHOULD validate input feasibility (e.g., movement speed)</li>
<li>Servers SHOULD implement server-side hit detection</li>
</ul>
<hr />
<h2 id="9-implementation-notes">9. Implementation Notes</h2>
<h3 id="91-byte-order">9.1 Byte Order</h3>
<ul>
<li>All multi-byte integers are in network byte order (big-endian)</li>
<li>Use <code>htons()</code>, <code>htonl()</code>, <code>ntohs()</code>, <code>ntohl()</code> for conversions on little-endian systems</li>
<li>Floating-point values use IEEE 754 single precision format</li>
</ul>
<h3 id="92-structure-packing">9.2 Structure Packing</h3>
<p>All C/C++ protocol structures MUST use <code>__attribute__((packed))</code> or equivalent to prevent compiler padding:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-53-1" name="__codelineno-53-1" href="#__codelineno-53-1"></a><span class="k">struct</span><span class="w"> </span><span class="nc">__attribute__</span><span class="p">((</span><span class="n">packed</span><span class="p">))</span><span class="w"> </span><span class="n">PacketHeader</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-53-2" name="__codelineno-53-2" href="#__codelineno-53-2"></a><span class="w">    </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">version</span><span class="p">;</span>
<a id="__codelineno-53-3" name="__codelineno-53-3" href="#__codelineno-53-3"></a><span class="w">    </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">type</span><span class="p">;</span>
<a id="__codelineno-53-4" name="__codelineno-53-4" href="#__codelineno-53-4"></a><span class="w">    </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">payload_length</span><span class="p">;</span>
<a id="__codelineno-53-5" name="__codelineno-53-5" href="#__codelineno-53-5"></a><span class="w">    </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">sequence_number</span><span class="p">;</span>
<a id="__codelineno-53-6" name="__codelineno-53-6" href="#__codelineno-53-6"></a><span class="p">};</span>
</code></pre></div>
<h3 id="93-encoding-and-decoding">9.3 Encoding and Decoding</h3>
<p>Implementations SHOULD provide encoder/decoder functions that:
- Validate packet sizes before encoding
- Perform byte order conversions automatically
- Return errors for invalid data</p>
<h3 id="94-memory-management">9.4 Memory Management</h3>
<ul>
<li>Packet buffers SHOULD be reused to minimize allocation overhead</li>
<li>Fixed-size buffers of 1400 bytes are RECOMMENDED for packet reception</li>
</ul>
<h3 id="95-performance-optimization">9.5 Performance Optimization</h3>
<p><strong>Snapshot compression</strong>:
- Implement delta compression (SERVER_DELTA_SNAPSHOT) for reduced bandwidth
- Only send changed entities between snapshots</p>
<p><strong>Input batching</strong>:
- Clients MAY batch multiple inputs into a single packet if tick rate allows</p>
<p><strong>Priority system</strong>:
- Critical packets (inputs, spawns) SHOULD be sent with higher priority
- Non-critical packets (chat) MAY be delayed under congestion</p>
<hr />
<h2 id="10-references">10. References</h2>
<ul>
<li><strong>RFC 768</strong>: User Datagram Protocol</li>
<li><strong>RFC 2119</strong>: Key words for use in RFCs to Indicate Requirement Levels</li>
<li><strong>IEEE 754</strong>: IEEE Standard for Floating-Point Arithmetic</li>
</ul>
<hr />
<h2 id="appendix-a-packet-type-quick-reference">Appendix A: Packet Type Quick Reference</h2>
<table>
<thead>
<tr>
<th>ID</th>
<th>Name</th>
<th>CS</th>
<th>SC</th>
<th>Frequency</th>
</tr>
</thead>
<tbody>
<tr>
<td>0x01</td>
<td>CLIENT_CONNECT</td>
<td></td>
<td></td>
<td>Once</td>
</tr>
<tr>
<td>0x02</td>
<td>CLIENT_DISCONNECT</td>
<td></td>
<td></td>
<td>Once</td>
</tr>
<tr>
<td>0x04</td>
<td>CLIENT_PING</td>
<td></td>
<td></td>
<td>1-2 Hz</td>
</tr>
<tr>
<td>0x05</td>
<td>CLIENT_JOIN_LOBBY</td>
<td></td>
<td></td>
<td>Once</td>
</tr>
<tr>
<td>0x06</td>
<td>CLIENT_LEAVE_LOBBY</td>
<td></td>
<td></td>
<td>Once</td>
</tr>
<tr>
<td>0x10</td>
<td>CLIENT_INPUT</td>
<td></td>
<td></td>
<td>60 Hz</td>
</tr>
<tr>
<td>0x20</td>
<td>CLIENT_CREATE_ROOM</td>
<td></td>
<td></td>
<td>Once</td>
</tr>
<tr>
<td>0x21</td>
<td>CLIENT_JOIN_ROOM</td>
<td></td>
<td></td>
<td>Once</td>
</tr>
<tr>
<td>0x22</td>
<td>CLIENT_LEAVE_ROOM</td>
<td></td>
<td></td>
<td>Once</td>
</tr>
<tr>
<td>0x23</td>
<td>CLIENT_REQUEST_ROOM_LIST</td>
<td></td>
<td></td>
<td>On demand</td>
</tr>
<tr>
<td>0x24</td>
<td>CLIENT_START_GAME</td>
<td></td>
<td></td>
<td>Once</td>
</tr>
<tr>
<td>0x25</td>
<td>CLIENT_SET_PLAYER_NAME</td>
<td></td>
<td></td>
<td>On demand</td>
</tr>
<tr>
<td>0x26</td>
<td>CLIENT_SET_PLAYER_SKIN</td>
<td></td>
<td></td>
<td>On demand</td>
</tr>
<tr>
<td>0x81</td>
<td>SERVER_ACCEPT</td>
<td></td>
<td></td>
<td>Once</td>
</tr>
<tr>
<td>0x82</td>
<td>SERVER_REJECT</td>
<td></td>
<td></td>
<td>Once</td>
</tr>
<tr>
<td>0x83</td>
<td>SERVER_PLAYER_JOINED</td>
<td></td>
<td></td>
<td>Event</td>
</tr>
<tr>
<td>0x84</td>
<td>SERVER_PLAYER_LEFT</td>
<td></td>
<td></td>
<td>Event</td>
</tr>
<tr>
<td>0x85</td>
<td>SERVER_PONG</td>
<td></td>
<td></td>
<td>1-2 Hz</td>
</tr>
<tr>
<td>0x87</td>
<td>SERVER_LOBBY_STATE</td>
<td></td>
<td></td>
<td>Event</td>
</tr>
<tr>
<td>0x88</td>
<td>SERVER_GAME_START_COUNTDOWN</td>
<td></td>
<td></td>
<td>1 Hz</td>
</tr>
<tr>
<td>0x89</td>
<td>SERVER_COUNTDOWN_CANCELLED</td>
<td></td>
<td></td>
<td>Event</td>
</tr>
<tr>
<td>0x8A</td>
<td>SERVER_GAME_START</td>
<td></td>
<td></td>
<td>Once</td>
</tr>
<tr>
<td>0x90</td>
<td>SERVER_ROOM_CREATED</td>
<td></td>
<td></td>
<td>Once</td>
</tr>
<tr>
<td>0x91</td>
<td>SERVER_ROOM_LIST</td>
<td></td>
<td></td>
<td>On demand</td>
</tr>
<tr>
<td>0x92</td>
<td>SERVER_ROOM_JOINED</td>
<td></td>
<td></td>
<td>Once</td>
</tr>
<tr>
<td>0x93</td>
<td>SERVER_ROOM_LEFT</td>
<td></td>
<td></td>
<td>Event</td>
</tr>
<tr>
<td>0x94</td>
<td>SERVER_ROOM_STATE_UPDATE</td>
<td></td>
<td></td>
<td>Event</td>
</tr>
<tr>
<td>0x95</td>
<td>SERVER_ROOM_ERROR</td>
<td></td>
<td></td>
<td>Event</td>
</tr>
<tr>
<td>0x96</td>
<td>SERVER_PLAYER_NAME_UPDATED</td>
<td></td>
<td></td>
<td>Event</td>
</tr>
<tr>
<td>0x97</td>
<td>SERVER_PLAYER_SKIN_UPDATED</td>
<td></td>
<td></td>
<td>Event</td>
</tr>
<tr>
<td>0xA0</td>
<td>SERVER_SNAPSHOT</td>
<td></td>
<td></td>
<td>20-30 Hz</td>
</tr>
<tr>
<td>0xB0</td>
<td>SERVER_ENTITY_SPAWN</td>
<td></td>
<td></td>
<td>Event</td>
</tr>
<tr>
<td>0xB1</td>
<td>SERVER_ENTITY_DESTROY</td>
<td></td>
<td></td>
<td>Event</td>
</tr>
<tr>
<td>0xB3</td>
<td>SERVER_PROJECTILE_SPAWN</td>
<td></td>
<td></td>
<td>High freq</td>
</tr>
<tr>
<td>0xC0</td>
<td>SERVER_POWERUP_COLLECTED</td>
<td></td>
<td></td>
<td>Event</td>
</tr>
<tr>
<td>0xC1</td>
<td>SERVER_SCORE_UPDATE</td>
<td></td>
<td></td>
<td>Event</td>
</tr>
<tr>
<td>0xC2</td>
<td>SERVER_WAVE_START</td>
<td></td>
<td></td>
<td>Event</td>
</tr>
<tr>
<td>0xC3</td>
<td>SERVER_WAVE_COMPLETE</td>
<td></td>
<td></td>
<td>Event</td>
</tr>
<tr>
<td>0xC4</td>
<td>SERVER_PLAYER_LEVEL_UP</td>
<td></td>
<td></td>
<td>Event</td>
</tr>
<tr>
<td>0xC5</td>
<td>SERVER_PLAYER_RESPAWN</td>
<td></td>
<td></td>
<td>Event</td>
</tr>
<tr>
<td>0xC6</td>
<td>SERVER_GAME_OVER</td>
<td></td>
<td></td>
<td>Once</td>
</tr>
<tr>
<td>0xC7</td>
<td>SERVER_LEADERBOARD</td>
<td></td>
<td></td>
<td>Once</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="appendix-b-example-packet-hex-dumps">Appendix B: Example Packet Hex Dumps</h2>
<h3 id="b1-client_connect-example">B.1 CLIENT_CONNECT Example</h3>
<p><strong>Scenario</strong>: Player "Alice" connects with client version 1</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-54-1" name="__codelineno-54-1" href="#__codelineno-54-1"></a>Header:
<a id="__codelineno-54-2" name="__codelineno-54-2" href="#__codelineno-54-2"></a>  Version: 0x01
<a id="__codelineno-54-3" name="__codelineno-54-3" href="#__codelineno-54-3"></a>  Type: 0x01 (CLIENT_CONNECT)
<a id="__codelineno-54-4" name="__codelineno-54-4" href="#__codelineno-54-4"></a>  Payload Length: 0x0021 (33 bytes)
<a id="__codelineno-54-5" name="__codelineno-54-5" href="#__codelineno-54-5"></a>  Sequence: 0x00000001
<a id="__codelineno-54-6" name="__codelineno-54-6" href="#__codelineno-54-6"></a>
<a id="__codelineno-54-7" name="__codelineno-54-7" href="#__codelineno-54-7"></a>Payload:
<a id="__codelineno-54-8" name="__codelineno-54-8" href="#__codelineno-54-8"></a>  Client Version: 0x01
<a id="__codelineno-54-9" name="__codelineno-54-9" href="#__codelineno-54-9"></a>  Player Name: &quot;Alice&quot; (null-padded to 32 bytes)
</code></pre></div>
<p><strong>Hex Dump</strong>:
<div class="highlight"><pre><span></span><code><a id="__codelineno-55-1" name="__codelineno-55-1" href="#__codelineno-55-1"></a>01 01 00 21 00 00 00 01  01 41 6C 69 63 65 00 00
<a id="__codelineno-55-2" name="__codelineno-55-2" href="#__codelineno-55-2"></a>00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00
<a id="__codelineno-55-3" name="__codelineno-55-3" href="#__codelineno-55-3"></a>00 00 00 00 00 00 00 00  00
</code></pre></div></p>
<h3 id="b2-client_input-example">B.2 CLIENT_INPUT Example</h3>
<p><strong>Scenario</strong>: Player 42 presses UP + SHOOT (bits 0 and 4 set) at tick 1000</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-56-1" name="__codelineno-56-1" href="#__codelineno-56-1"></a>Header:
<a id="__codelineno-56-2" name="__codelineno-56-2" href="#__codelineno-56-2"></a>  Version: 0x01
<a id="__codelineno-56-3" name="__codelineno-56-3" href="#__codelineno-56-3"></a>  Type: 0x10 (CLIENT_INPUT)
<a id="__codelineno-56-4" name="__codelineno-56-4" href="#__codelineno-56-4"></a>  Payload Length: 0x000A (10 bytes)
<a id="__codelineno-56-5" name="__codelineno-56-5" href="#__codelineno-56-5"></a>  Sequence: 0x00000064 (100)
<a id="__codelineno-56-6" name="__codelineno-56-6" href="#__codelineno-56-6"></a>
<a id="__codelineno-56-7" name="__codelineno-56-7" href="#__codelineno-56-7"></a>Payload:
<a id="__codelineno-56-8" name="__codelineno-56-8" href="#__codelineno-56-8"></a>  Player ID: 0x0000002A (42)
<a id="__codelineno-56-9" name="__codelineno-56-9" href="#__codelineno-56-9"></a>  Input Flags: 0x0011 (UP=bit0, SHOOT=bit4)
<a id="__codelineno-56-10" name="__codelineno-56-10" href="#__codelineno-56-10"></a>  Client Tick: 0x000003E8 (1000)
</code></pre></div>
<p><strong>Hex Dump</strong>:
<div class="highlight"><pre><span></span><code><a id="__codelineno-57-1" name="__codelineno-57-1" href="#__codelineno-57-1"></a>01 10 00 0A 00 00 00 64  00 00 00 2A 00 11 00 00
<a id="__codelineno-57-2" name="__codelineno-57-2" href="#__codelineno-57-2"></a>03 E8
</code></pre></div></p>
<h3 id="b3-server_game_start-example">B.3 SERVER_GAME_START Example</h3>
<p><strong>Scenario</strong>: Squad game starts with 4 players on HARD difficulty</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-58-1" name="__codelineno-58-1" href="#__codelineno-58-1"></a>Header:
<a id="__codelineno-58-2" name="__codelineno-58-2" href="#__codelineno-58-2"></a>  Version: 0x01
<a id="__codelineno-58-3" name="__codelineno-58-3" href="#__codelineno-58-3"></a>  Type: 0x8A (SERVER_GAME_START)
<a id="__codelineno-58-4" name="__codelineno-58-4" href="#__codelineno-58-4"></a>  Payload Length: 0x003E (62 bytes)
<a id="__codelineno-58-5" name="__codelineno-58-5" href="#__codelineno-58-5"></a>  Sequence: 0x00000001
<a id="__codelineno-58-6" name="__codelineno-58-6" href="#__codelineno-58-6"></a>
<a id="__codelineno-58-7" name="__codelineno-58-7" href="#__codelineno-58-7"></a>Payload:
<a id="__codelineno-58-8" name="__codelineno-58-8" href="#__codelineno-58-8"></a>  Game Session ID: 0x12345678
<a id="__codelineno-58-9" name="__codelineno-58-9" href="#__codelineno-58-9"></a>  Game Mode: 0x03 (SQUAD)
<a id="__codelineno-58-10" name="__codelineno-58-10" href="#__codelineno-58-10"></a>  Difficulty: 0x03 (HARD)
<a id="__codelineno-58-11" name="__codelineno-58-11" href="#__codelineno-58-11"></a>  Server Tick: 0x00000000
<a id="__codelineno-58-12" name="__codelineno-58-12" href="#__codelineno-58-12"></a>  Level Seed: 0xABCDEF12
<a id="__codelineno-58-13" name="__codelineno-58-13" href="#__codelineno-58-13"></a>
<a id="__codelineno-58-14" name="__codelineno-58-14" href="#__codelineno-58-14"></a>  Player 1 Spawn:
<a id="__codelineno-58-15" name="__codelineno-58-15" href="#__codelineno-58-15"></a>    Player ID: 0x0000002A (42)
<a id="__codelineno-58-16" name="__codelineno-58-16" href="#__codelineno-58-16"></a>    Spawn X: 100.0 (0x42C80000)
<a id="__codelineno-58-17" name="__codelineno-58-17" href="#__codelineno-58-17"></a>    Spawn Y: 200.0 (0x43480000)
<a id="__codelineno-58-18" name="__codelineno-58-18" href="#__codelineno-58-18"></a>
<a id="__codelineno-58-19" name="__codelineno-58-19" href="#__codelineno-58-19"></a>  Player 2 Spawn:
<a id="__codelineno-58-20" name="__codelineno-58-20" href="#__codelineno-58-20"></a>    Player ID: 0x0000002B
<a id="__codelineno-58-21" name="__codelineno-58-21" href="#__codelineno-58-21"></a>    Spawn X: 100.0
<a id="__codelineno-58-22" name="__codelineno-58-22" href="#__codelineno-58-22"></a>    Spawn Y: 250.0 (0x43790000)
<a id="__codelineno-58-23" name="__codelineno-58-23" href="#__codelineno-58-23"></a>
<a id="__codelineno-58-24" name="__codelineno-58-24" href="#__codelineno-58-24"></a>  [... 2 more players ...]
</code></pre></div>
<p><strong>Hex Dump</strong> (partial):
<div class="highlight"><pre><span></span><code><a id="__codelineno-59-1" name="__codelineno-59-1" href="#__codelineno-59-1"></a>01 8A 00 3E 00 00 00 01  12 34 56 78 03 03 00 00
<a id="__codelineno-59-2" name="__codelineno-59-2" href="#__codelineno-59-2"></a>00 00 AB CD EF 12 00 00  00 2A 42 C8 00 00 43 48
<a id="__codelineno-59-3" name="__codelineno-59-3" href="#__codelineno-59-3"></a>00 00 00 00 00 2B 42 C8  00 00 43 79 00 00 ...
</code></pre></div></p>
<hr />
<h2 id="appendix-c-state-machine-diagrams">Appendix C: State Machine Diagrams</h2>
<h3 id="c1-client-state-machine">C.1 Client State Machine</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-60-1" name="__codelineno-60-1" href="#__codelineno-60-1"></a>     
<a id="__codelineno-60-2" name="__codelineno-60-2" href="#__codelineno-60-2"></a>     DISCONNECTED 
<a id="__codelineno-60-3" name="__codelineno-60-3" href="#__codelineno-60-3"></a>     
<a id="__codelineno-60-4" name="__codelineno-60-4" href="#__codelineno-60-4"></a>             CLIENT_CONNECT
<a id="__codelineno-60-5" name="__codelineno-60-5" href="#__codelineno-60-5"></a>            
<a id="__codelineno-60-6" name="__codelineno-60-6" href="#__codelineno-60-6"></a>     
<a id="__codelineno-60-7" name="__codelineno-60-7" href="#__codelineno-60-7"></a>       CONNECTED  
<a id="__codelineno-60-8" name="__codelineno-60-8" href="#__codelineno-60-8"></a>        (Lobby)         CLIENT_LEAVE_LOBBY
<a id="__codelineno-60-9" name="__codelineno-60-9" href="#__codelineno-60-9"></a>          
<a id="__codelineno-60-10" name="__codelineno-60-10" href="#__codelineno-60-10"></a>             CLIENT_JOIN_LOBBY
<a id="__codelineno-60-11" name="__codelineno-60-11" href="#__codelineno-60-11"></a>                        
<a id="__codelineno-60-12" name="__codelineno-60-12" href="#__codelineno-60-12"></a>          
<a id="__codelineno-60-13" name="__codelineno-60-13" href="#__codelineno-60-13"></a>       IN_LOBBY   
<a id="__codelineno-60-14" name="__codelineno-60-14" href="#__codelineno-60-14"></a>     
<a id="__codelineno-60-15" name="__codelineno-60-15" href="#__codelineno-60-15"></a>             SERVER_GAME_START_COUNTDOWN
<a id="__codelineno-60-16" name="__codelineno-60-16" href="#__codelineno-60-16"></a>            
<a id="__codelineno-60-17" name="__codelineno-60-17" href="#__codelineno-60-17"></a>     
<a id="__codelineno-60-18" name="__codelineno-60-18" href="#__codelineno-60-18"></a>       COUNTDOWN  
<a id="__codelineno-60-19" name="__codelineno-60-19" href="#__codelineno-60-19"></a>     
<a id="__codelineno-60-20" name="__codelineno-60-20" href="#__codelineno-60-20"></a>             SERVER_GAME_START
<a id="__codelineno-60-21" name="__codelineno-60-21" href="#__codelineno-60-21"></a>            
<a id="__codelineno-60-22" name="__codelineno-60-22" href="#__codelineno-60-22"></a>     
<a id="__codelineno-60-23" name="__codelineno-60-23" href="#__codelineno-60-23"></a>        IN_GAME   
<a id="__codelineno-60-24" name="__codelineno-60-24" href="#__codelineno-60-24"></a>     
<a id="__codelineno-60-25" name="__codelineno-60-25" href="#__codelineno-60-25"></a>             SERVER_GAME_OVER
<a id="__codelineno-60-26" name="__codelineno-60-26" href="#__codelineno-60-26"></a>            
<a id="__codelineno-60-27" name="__codelineno-60-27" href="#__codelineno-60-27"></a>     
<a id="__codelineno-60-28" name="__codelineno-60-28" href="#__codelineno-60-28"></a>       GAME_OVER  
<a id="__codelineno-60-29" name="__codelineno-60-29" href="#__codelineno-60-29"></a>     
<a id="__codelineno-60-30" name="__codelineno-60-30" href="#__codelineno-60-30"></a>            
<a id="__codelineno-60-31" name="__codelineno-60-31" href="#__codelineno-60-31"></a>             (back to CONNECTED)
</code></pre></div>
<h3 id="c2-server-lobby-state-machine">C.2 Server Lobby State Machine</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-61-1" name="__codelineno-61-1" href="#__codelineno-61-1"></a>     
<a id="__codelineno-61-2" name="__codelineno-61-2" href="#__codelineno-61-2"></a>      WAITING     
<a id="__codelineno-61-3" name="__codelineno-61-3" href="#__codelineno-61-3"></a>      (&lt; required       Player leaves
<a id="__codelineno-61-4" name="__codelineno-61-4" href="#__codelineno-61-4"></a>       players)        
<a id="__codelineno-61-5" name="__codelineno-61-5" href="#__codelineno-61-5"></a>          
<a id="__codelineno-61-6" name="__codelineno-61-6" href="#__codelineno-61-6"></a>             Lobby full 
<a id="__codelineno-61-7" name="__codelineno-61-7" href="#__codelineno-61-7"></a>                        
<a id="__codelineno-61-8" name="__codelineno-61-8" href="#__codelineno-61-8"></a>          
<a id="__codelineno-61-9" name="__codelineno-61-9" href="#__codelineno-61-9"></a>       COUNTDOWN  
<a id="__codelineno-61-10" name="__codelineno-61-10" href="#__codelineno-61-10"></a>       (5...1)    
<a id="__codelineno-61-11" name="__codelineno-61-11" href="#__codelineno-61-11"></a>     
<a id="__codelineno-61-12" name="__codelineno-61-12" href="#__codelineno-61-12"></a>             Countdown complete
<a id="__codelineno-61-13" name="__codelineno-61-13" href="#__codelineno-61-13"></a>            
<a id="__codelineno-61-14" name="__codelineno-61-14" href="#__codelineno-61-14"></a>     
<a id="__codelineno-61-15" name="__codelineno-61-15" href="#__codelineno-61-15"></a>        STARTED   
<a id="__codelineno-61-16" name="__codelineno-61-16" href="#__codelineno-61-16"></a>      (transition 
<a id="__codelineno-61-17" name="__codelineno-61-17" href="#__codelineno-61-17"></a>       to game)   
<a id="__codelineno-61-18" name="__codelineno-61-18" href="#__codelineno-61-18"></a>     
</code></pre></div>
<hr />
<h2 id="appendix-d-bandwidth-analysis">Appendix D: Bandwidth Analysis</h2>
<h3 id="d1-typical-traffic-per-player">D.1 Typical Traffic Per Player</h3>
<p><strong>Client Upload</strong> (per second):
- CLIENT_INPUT: 60 Hz  18 bytes (8 header + 10 payload) = 1,080 bytes/s
- CLIENT_PING: 1 Hz  16 bytes = 16 bytes/s
- <strong>Total</strong>: ~1,096 bytes/s = <strong>~8.8 Kbps upload per player</strong></p>
<p><strong>Client Download</strong> (per second, 4-player game):
- SERVER_SNAPSHOT: 25 Hz  200 bytes (avg) = 5,000 bytes/s
- Event packets (spawns, scores, etc.): ~100 bytes/s (variable)
- <strong>Total</strong>: ~5,100 bytes/s = <strong>~40.8 Kbps download per player</strong></p>
<p><strong>Total Bandwidth</strong> (per player): ~50 Kbps (well within typical broadband)</p>
<h3 id="d2-server-bandwidth-4-player-game">D.2 Server Bandwidth (4-player game)</h3>
<ul>
<li>Upload: 4 players  40 Kbps = 160 Kbps</li>
<li>Download: 4 players  8.8 Kbps = 35 Kbps</li>
<li><strong>Total per game session</strong>: ~200 Kbps</li>
</ul>
<hr />
<p><strong>End of Protocol Specification</strong></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "..", "features": ["navigation.tabs", "navigation.sections", "navigation.top", "search.highlight", "content.code.copy"], "search": "../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>