{
  "level_id": 3,
  "level_name": "Bydo Fortress Infiltration",
  "level_description": "The final assault on the Bydo command fortress",
  "map_id": 3,
  "base_scroll_speed": 70.0,
  "total_scroll_distance": 10500.0,

  "checkpoints": [
    {
      "checkpoint_id": "start",
      "scroll_distance": 0.0,
      "respawn_x": 100.0,
      "respawn_y": 540.0
    },
    {
      "checkpoint_id": "cp1",
      "scroll_distance": 3500.0,
      "respawn_x": 100.0,
      "respawn_y": 540.0
    },
    {
      "checkpoint_id": "cp2",
      "scroll_distance": 7000.0,
      "respawn_x": 100.0,
      "respawn_y": 540.0
    },
    {
      "checkpoint_id": "boss",
      "scroll_distance": 10000.0,
      "respawn_x": 100.0,
      "respawn_y": 540.0
    }
  ],

  "phases": [
    {
      "phase_number": 1,
      "phase_name": "Fortress Gates",
      "scroll_start": 0.0,
      "scroll_end": 3500.0,
      "difficulty": "medium",
      "waves": [
        {
          "wave_number": 1,
          "trigger": {"scrollDistance": 100, "timeDelay": 0},
          "formation": "entrance_guards",
          "spawns": [
            {"type": "enemy", "enemyType": "tank", "positionX": 2100, "positionY": 300, "count": 1, "pattern": "single"},
            {"type": "enemy", "enemyType": "tank", "positionX": 2100, "positionY": 780, "count": 1, "pattern": "single"},
            {"type": "enemy", "enemyType": "fast", "positionX": 2200, "positionY": 540, "count": 2, "pattern": "line", "spacing": 100}
          ]
        },
        {
          "wave_number": 2,
          "trigger": {"scrollDistance": 700, "timeDelay": 0},
          "formation": "heavy_assault",
          "spawns": [
            {"type": "enemy", "enemyType": "tank", "positionX": 2300, "positionY": 250, "count": 2, "pattern": "line", "spacing": 180},
            {"type": "enemy", "enemyType": "basic", "positionX": 2400, "positionY": 450, "count": 4, "pattern": "line", "spacing": 100}
          ]
        },
        {
          "wave_number": 3,
          "trigger": {"scrollDistance": 1400, "timeDelay": 0},
          "formation": "speed_gauntlet",
          "spawns": [
            {"type": "enemy", "enemyType": "fast", "positionX": 2500, "positionY": 200, "count": 5, "pattern": "line", "spacing": 80},
            {"type": "enemy", "enemyType": "fast", "positionX": 2600, "positionY": 750, "count": 5, "pattern": "line", "spacing": 80}
          ]
        },
        {
          "wave_number": 4,
          "trigger": {"scrollDistance": 2100, "timeDelay": 0},
          "formation": "tank_squadron",
          "spawns": [
            {"type": "enemy", "enemyType": "tank", "positionX": 2700, "positionY": 300, "count": 3, "pattern": "line", "spacing": 150},
            {"type": "enemy", "enemyType": "basic", "positionX": 2800, "positionY": 600, "count": 4, "pattern": "formation", "spacing": 90}
          ]
        },
        {
          "wave_number": 5,
          "trigger": {"scrollDistance": 2800, "timeDelay": 0},
          "formation": "mixed_chaos",
          "spawns": [
            {
              "type": "enemy",
              "enemyType": "tank",
              "positionX": 2900,
              "positionY": 400,
              "count": 2,
              "pattern": "line",
              "spacing": 200,
              "bonusDrop": {
                "enabled": true,
                "bonusType": "bonus_weapon",
                "dropChance": 1.0
              }
            },
            {"type": "enemy", "enemyType": "fast", "positionX": 3000, "positionY": 250, "count": 3, "pattern": "line", "spacing": 90},
            {"type": "enemy", "enemyType": "fast", "positionX": 3000, "positionY": 700, "count": 3, "pattern": "line", "spacing": 90}
          ]
        },
        {
          "wave_number": 6,
          "trigger": {"scrollDistance": 3200, "timeDelay": 0},
          "formation": "reward_checkpoint",
          "spawns": [
            {"type": "enemy", "enemyType": "basic", "positionX": 3100, "positionY": 400, "count": 5, "pattern": "formation", "spacing": 100},
            {"type": "powerup", "bonusType": "health", "positionX": 3300, "positionY": 540, "count": 1, "pattern": "single"}
          ]
        }
      ]
    },
    {
      "phase_number": 2,
      "phase_name": "Inner Sanctum",
      "scroll_start": 3500.0,
      "scroll_end": 7000.0,
      "difficulty": "hard",
      "waves": [
        {
          "wave_number": 7,
          "trigger": {"scrollDistance": 3600, "timeDelay": 0},
          "formation": "fortress_defenders",
          "spawns": [
            {"type": "enemy", "enemyType": "tank", "positionX": 5600, "positionY": 250, "count": 2, "pattern": "line", "spacing": 180},
            {"type": "enemy", "enemyType": "tank", "positionX": 5600, "positionY": 700, "count": 2, "pattern": "line", "spacing": 180},
            {"type": "enemy", "enemyType": "fast", "positionX": 5700, "positionY": 450, "count": 4, "pattern": "line", "spacing": 90}
          ]
        },
        {
          "wave_number": 8,
          "trigger": {"scrollDistance": 4300, "timeDelay": 0},
          "formation": "elite_squadron",
          "spawns": [
            {"type": "enemy", "enemyType": "tank", "positionX": 5900, "positionY": 350, "count": 3, "pattern": "line", "spacing": 150},
            {"type": "enemy", "enemyType": "basic", "positionX": 6000, "positionY": 200, "count": 3, "pattern": "line", "spacing": 100},
            {"type": "enemy", "enemyType": "basic", "positionX": 6000, "positionY": 750, "count": 3, "pattern": "line", "spacing": 100}
          ]
        },
        {
          "wave_number": 9,
          "trigger": {"scrollDistance": 5000, "timeDelay": 0},
          "formation": "overwhelming_force",
          "spawns": [
            {"type": "enemy", "enemyType": "fast", "positionX": 6200, "positionY": 250, "count": 6, "pattern": "line", "spacing": 80},
            {"type": "enemy", "enemyType": "tank", "positionX": 6300, "positionY": 500, "count": 2, "pattern": "line", "spacing": 200}
          ]
        },
        {
          "wave_number": 10,
          "trigger": {"scrollDistance": 5700, "timeDelay": 0},
          "formation": "fortress_wall",
          "spawns": [
            {"type": "enemy", "enemyType": "tank", "positionX": 6500, "positionY": 200, "count": 4, "pattern": "line", "spacing": 140},
            {"type": "enemy", "enemyType": "basic", "positionX": 6600, "positionY": 650, "count": 5, "pattern": "formation", "spacing": 90}
          ]
        },
        {
          "wave_number": 11,
          "trigger": {"scrollDistance": 6400, "timeDelay": 0},
          "formation": "shield_prep",
          "spawns": [
            {"type": "enemy", "enemyType": "fast", "positionX": 6700, "positionY": 350, "count": 5, "pattern": "line", "spacing": 90},
            {"type": "powerup", "bonusType": "shield", "positionX": 6900, "positionY": 540, "count": 1, "pattern": "single"}
          ]
        }
      ]
    },
    {
      "phase_number": 3,
      "phase_name": "Command Center",
      "scroll_start": 7000.0,
      "scroll_end": 10000.0,
      "difficulty": "extreme",
      "waves": [
        {
          "wave_number": 12,
          "trigger": {"scrollDistance": 7100, "timeDelay": 0},
          "formation": "final_guards",
          "spawns": [
            {"type": "enemy", "enemyType": "tank", "positionX": 7100, "positionY": 250, "count": 3, "pattern": "line", "spacing": 150},
            {"type": "enemy", "enemyType": "tank", "positionX": 7100, "positionY": 700, "count": 3, "pattern": "line", "spacing": 150}
          ]
        },
        {
          "wave_number": 13,
          "trigger": {"scrollDistance": 7800, "timeDelay": 0},
          "formation": "desperate_assault",
          "spawns": [
            {"type": "enemy", "enemyType": "fast", "positionX": 7300, "positionY": 200, "count": 6, "pattern": "line", "spacing": 80},
            {"type": "enemy", "enemyType": "fast", "positionX": 7400, "positionY": 750, "count": 6, "pattern": "line", "spacing": 80}
          ]
        },
        {
          "wave_number": 14,
          "trigger": {"scrollDistance": 8500, "timeDelay": 0},
          "formation": "all_out_defense",
          "spawns": [
            {"type": "enemy", "enemyType": "tank", "positionX": 7600, "positionY": 300, "count": 3, "pattern": "line", "spacing": 160},
            {"type": "enemy", "enemyType": "fast", "positionX": 7700, "positionY": 450, "count": 5, "pattern": "line", "spacing": 85},
            {"type": "enemy", "enemyType": "basic", "positionX": 7800, "positionY": 650, "count": 4, "pattern": "formation", "spacing": 95}
          ]
        },
        {
          "wave_number": 15,
          "trigger": {"scrollDistance": 9200, "timeDelay": 0},
          "formation": "last_stand",
          "spawns": [
            {"type": "enemy", "enemyType": "tank", "positionX": 7900, "positionY": 250, "count": 2, "pattern": "line", "spacing": 180},
            {"type": "enemy", "enemyType": "tank", "positionX": 7900, "positionY": 700, "count": 2, "pattern": "line", "spacing": 180},
            {"type": "enemy", "enemyType": "fast", "positionX": 8000, "positionY": 400, "count": 6, "pattern": "line", "spacing": 80},
            {"type": "powerup", "bonusType": "health", "positionX": 8200, "positionY": 540, "count": 1, "pattern": "single"}
          ]
        },
        {
          "wave_number": 16,
          "trigger": {"scrollDistance": 9700, "timeDelay": 0},
          "formation": "final_boss_prep",
          "spawns": [
            {"type": "enemy", "enemyType": "tank", "positionX": 8400, "positionY": 350, "count": 2, "pattern": "line", "spacing": 200},
            {"type": "enemy", "enemyType": "basic", "positionX": 8500, "positionY": 500, "count": 6, "pattern": "formation", "spacing": 100},
            {"type": "powerup", "bonusType": "shield", "positionX": 8700, "positionY": 540, "count": 1, "pattern": "single"}
          ]
        }
      ]
    }
  ],

  "boss": {
    "boss_name": "Bydo Command Node",
    "spawn_scroll_distance": 10000.0,
    "spawn_position_x": 1600.0,
    "spawn_position_y": 540.0,
    "enemy_type": "boss",
    "total_phases": 3,
    "phases": [
      {
        "phase_number": 1,
        "health_threshold": 1.0,
        "movement_pattern": "circle",
        "movement_speed_multiplier": 1.3,
        "attack_patterns": [
          {
            "pattern": "spray_360",
            "cooldown": 2.5,
            "projectile_count": 20,
            "projectile_speed": 240.0,
            "projectile_damage": 25
          },
          {
            "pattern": "aimed_burst",
            "cooldown": 1.8,
            "projectile_count": 5,
            "projectile_speed": 350.0,
            "projectile_damage": 30,
            "spread_angle": 25.0
          },
          {
            "pattern": "spiral",
            "cooldown": 3.0,
            "projectile_count": 12,
            "projectile_speed": 270.0,
            "projectile_damage": 22,
            "rotation_speed": 50.0
          }
        ]
      },
      {
        "phase_number": 2,
        "health_threshold": 0.66,
        "movement_pattern": "figure_eight",
        "movement_speed_multiplier": 1.7,
        "attack_patterns": [
          {
            "pattern": "laser_sweep",
            "cooldown": 2.0,
            "projectile_count": 70,
            "projectile_speed": 400.0,
            "projectile_damage": 32
          },
          {
            "pattern": "random_barrage",
            "cooldown": 1.2,
            "projectile_count": 18,
            "projectile_speed": 340.0,
            "projectile_damage": 28
          },
          {
            "pattern": "aimed_triple",
            "cooldown": 1.5,
            "projectile_count": 3,
            "projectile_speed": 380.0,
            "projectile_damage": 35,
            "spread_angle": 30.0
          }
        ]
      },
      {
        "phase_number": 3,
        "health_threshold": 0.33,
        "movement_pattern": "aggressive_chase",
        "movement_speed_multiplier": 2.2,
        "attack_patterns": [
          {
            "pattern": "random_barrage",
            "cooldown": 0.6,
            "projectile_count": 25,
            "projectile_speed": 360.0,
            "projectile_damage": 35
          },
          {
            "pattern": "spray_360",
            "cooldown": 1.8,
            "projectile_count": 24,
            "projectile_speed": 280.0,
            "projectile_damage": 30
          },
          {
            "pattern": "spiral",
            "cooldown": 2.0,
            "projectile_count": 16,
            "projectile_speed": 300.0,
            "projectile_damage": 32,
            "rotation_speed": 70.0
          }
        ]
      }
    ]
  }
}
